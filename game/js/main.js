var functionNames = [
  "src",
  "skala",
  "shadowColor",
  "</b>,\x20mendapat\x20pengalaman\x20EXP+\x20",
  "try\x20to\x20load\x20",
  "GUI",
  "sub",
  "Aku\x20menemukan\x20Obat\x20Penyembuh",
  "#2f2f2f",
  "error",
  "indexOf",
  "\x20arah\x20=\x20",
  "floor",
  "none",
  "style",
  "remove\x20enemy\x20=\x20",
  "apply",
  "npc_",
  "bold\x20",
  "Monster\x20ini\x20terlalu\x20kuat......",
  "\x20is\x20not\x20a\x20possible\x20alignment\x20option.",
  "substring",
  "clear",
  "tidak\x20ada\x20apa-apa\x20disini",
  "warn",
  "tekan\x20spasi\x20untuk\x20melanjutkan",
  "\x20for\x20map\x20",
  "timer",
  "map_",
  "sound",
  "player\x20kalah",
  "Bentuknya\x20seperti\x20patung\x20yang\x20ada\x20di\x20desa,\x20apa\x20ya\x20maksudnya",
  "black",
  "table",
  "speed",
  "itemIcon",
  ",\x20serta\x20naik\x20ke\x20level\x20",
  "\x20files",
  "bgm1",
  "play",
  ">>>",
  "appendChild",
  "20pt-Calibri-left-1.6",
  "rgba(0,0,0,0.3)",
  "quadraticCurveTo",
  "win",
  "abs",
  "keyup",
  "langkah",
  "fillText",
  "Aku\x20menemukan\x20uang\x2025G",
  "loading\x20sound",
  "id\x20",
  "rect",
  "alg",
  "gold",
  "measureText",
  "a.\x20",
  "moveTo",
  "move",
  "stat",
  "c.\x20",
  "10pt\x20Calibri",
  "#ffe878",
  "clr",
  "closePath",
  "bgBattle",
  "Satria\x20Tengkorak",
  "1x3",
  "split",
  "run",
  "ada\x20NPC\x20=\x20",
  "fnt",
  "Aku\x20harus\x20belajar\x20lebih\x20giat\x20lagi..",
  "sup",
  "3x3",
  "Tuyul\x20kecil",
  "last\x20map\x20=\x20",
  "#fffd6e",
  "teks\x20=\x20",
  "#fff",
  "charX",
  "info",
  "Monster\x20Ungu",
  "bgm3",
  "img",
  "battle\x20over\x20exp",
  "tileH",
  "fillRect",
  "enemy",
  "height",
  "gfx\x20loaded",
  "correct",
  "20pt-Calibri-left-1.3",
  "minum\x20obat",
  "mozImageSmoothingEnabled",
  "e\x20dmg\x20=\x20",
  "pause",
  "exception",
  "slice",
  "fillStyle",
  "stop",
  "italic\x20",
  "player\x20win",
  "charY",
  "next",
  "Terimakasih,\x20selamat\x20beristirahat",
  "b.\x20",
  "frame",
  "#3d3d3d",
  "avatar",
  "evenodd",
  "{}.constructor(\x22return\x20this\x22)(\x20)",
  "tile\x20=\x20",
  "log",
  "arc",
  "bold\x2015pt\x20Calibri",
  "shadowBlur",
  "preload",
  "item_",
  "random",
  "keydown",
  "bayangan",
  "white",
  "\x20new\x20door\x20is\x20",
  "left",
  "ke\x20kanan:\x20Hutan\x20Desa,\x20ke\x20bawah:\x20patung\x20athens",
  "sfx\x20loaded",
  "width",
  "item",
  "8pt\x20Calibri",
  "onload",
  "shad",
  "room",
  "try",
  "Hehehehe......\x20kamu\x20harus\x20lebih\x20giat\x20belajar!!!...",
  "console",
  "enpc_",
  "splice",
  "shadowOffsetY",
  "enemy\x20pushed\x20=\x20",
  "setAttribute",
  "debug",
  "talk_",
  "auto",
  "lineTo",
  "npc",
  "fill",
  "#000",
  "right",
  "red",
  "arah",
  "br/",
  "keyCode",
  "bs\x202",
  "d.\x20",
  "\x20charxy\x20=\x20",
  "loop",
  "arr",
  "substr",
  "bgm4",
  "bold\x2014pt\x20Calibri",
  "bold\x2013pt\x20Calibri",
  "game_over",
  "Membaca\x20buku\x20bisa\x20meningkatkan\x20pengetahuan\x20(EXP+2)",
  "sleep",
  "lineWidth",
  "stroke",
  "Tengkorak\x20hitam",
  "controls",
  "px\x20",
  "strokeStyle",
  "Terimakasih\x20telah\x20membeli\x20",
  "length",
  "p\x20atk\x20=\x20",
  "posX",
  "Patung\x20ini\x20sepertinya\x20menyimpan\x20rahasia....mmmm....",
  "wrong",
  "attack",
  "tileW",
  "victory",
  "imageSmoothingEnabled",
  "close",
  "push",
  "bs\x20=\x20",
  "Hantu\x20hitam",
  "exp",
  "20pt-Calibri-left-1.2",
  "\x20/\x20",
  "font",
  "EXP",
  "audio",
  "tileSet",
  "center",
  "posY",
  "\x20pos\x20=\x20",
  "shadowOffsetX",
  "beginPath",
  "drawImage",
  "end_battle",
  "trace",
  "bgm2",
  "bold\x20italic\x2014pt\x20Calibri",
  "battle",
  "Aku\x20menemukan\x20uang\x205G",
  "textAlign",
  "slice_id",
  "trade",
  "talk_id",
  "Aku\x20menemukan\x20uang\x2010G",
  "visible",
];
(function (array, shiftCount) {
  var shifter = function (times) {
    while (--times) {
      array["push"](array["shift"]());
    }
  };
  shifter(++shiftCount);
})(functionNames, 0x166);
var functionGenerator = function (array, shiftCount) {
  array = array - 0x0;
  var shifter = functionNames[array];
  return shifter;
};
var functionWrapper = (function () {
  var enableInnerFunction = !![];
  return function (context, callback) {
    var innerFunction = enableInnerFunction
      ? function () {
          if (callback) {
            var result = callback[functionGenerator("0x50")](context, arguments);
            callback = null;
            return result;
          }
        }
      : function () {};
    enableInnerFunction = ![];
    return innerFunction;
  };
})();
var functionInstance = functionWrapper(this, function () {
  var innerFunction = function () {};
  var globalObject;
  try {
    var constructorFunction = Function(
      "return\x20(function()\x20" + functionGenerator("0xb0") + ");"
    );
    globalObject = constructorFunction();
  } catch (error) {
    globalObject = window;
  }
  if (!globalObject[functionGenerator("0xc8")]) {
    globalObject[functionGenerator("0xc8")] = (function (inner) {
      var object = {};
      object[functionGenerator("0xb2")] = inner;
      object[functionGenerator("0x58")] = inner;
      object[functionGenerator("0xce")] = inner;
      object["info"] = inner;
      object["error"] = inner;
      object["exception"] = inner;
      object[functionGenerator("0x61")] = inner;
      object[functionGenerator("0x35")] = inner;
      return object;
    })(innerFunction);
  } else {
    globalObject[functionGenerator("0xc8")][functionGenerator("0xb2")] = innerFunction;
    globalObject[functionGenerator("0xc8")][functionGenerator("0x58")] = innerFunction;
    globalObject[functionGenerator("0xc8")][functionGenerator("0xce")] = innerFunction;
    globalObject[functionGenerator("0xc8")][functionGenerator("0x92")] = innerFunction;
    globalObject["console"][functionGenerator("0x49")] = innerFunction;
    globalObject[functionGenerator("0xc8")][functionGenerator("0xa2")] = innerFunction;
    globalObject[functionGenerator("0xc8")][functionGenerator("0x61")] = innerFunction;
    globalObject[functionGenerator("0xc8")]["trace"] = innerFunction;
  }
});
functionInstance();
var warnaBG;
var funcDB = [];
var smoothing = ![];
var karakter;
var tileW = 0x20;
var skala = 0x2;
var oldScale = skala;
var skalaGUI = 1.5;
var mapX = 0x0;
var mapY = 0x0;
var screenW = 0xa;
var screenH = 0x8;
var charX = 0x12;
var charY = 0x7;
var posX = 0x0;
var posY = 0x0;
var oldX = 0x0;
var oldY = 0x0;
var doorX = 0x0;
var doorY = 0x0;
var doorID = 0x0;
var mapID = 0x1;
var npcID = 0x0;
var selectID = 0x0;
var enemyID = 0x0;
var storyID = 0x0;
var just_talk = 0x0;
var isAction = ![];
var isActive = !![];
var isWipe = ![];
var isTalk = ![];
var isBuying = ![];
var isBattle = ![];
var isBlink = ![];
var enemyReady = ![];
var battleScene = ![];
var speed = 0x4;
var step = 0x0;
var stepDelay = 0x0;
var mapActive = this["map_" + mapID];
var lastMap;
var walkFrame = [0x1, 0x2, 0x3, 0x2];
var tilesetSize = 0x200;
var wipeTime = 0x0;
var wipeStat = 0x0;
var wipeAct = "";
var soundStart = ![];
var soundActive = !![];
var battleArena = 0x7;
var battleStat = 0x0;
var battleResult = 0x0;
var battleFlash = 0x0;
var battleChar, battleEnemy;
var globalTimer = 0x0;
var globalStat = 0x0;
var globalCount = 0x0;
var itemToBuy = [];
var npc_1,
  npc_2,
  npc_3,
  npc_4,
  npc_5,
  npc_6,
  npc_7,
  npc_8,
  npc_9,
  npc_10,
  npc_11,
  npc_12,
  npc_13,
  npc_14,
  npc_15,
  npc_16,
  npc_17,
  npc_18,
  npc_19;
var enpc_1,
  enpc_2,
  enpc_3,
  enpc_4,
  enpc_5,
  enpc_6,
  enpc_7,
  enpc_8,
  enpc_9,
  enpc_10,
  enpc_11,
  enpc_12,
  enpc_13,
  enpc_14,
  enpc_15,
  enpc_16,
  enpc_17,
  enpc_18,
  enpc_19;
var debugLog = "";
var display_text = "";
var dialog = {};
var pc_hp = 0xa;
var pc_hp_max = 0xa;
var pc_exp = 0x23;
var pc_lvl = 0x1;
var pc_atk = 0x2;
var pc_def = 0x1;
var pc_item = [0x32];
var pc_exp_level = [0xa, 0x64, 0xe1, 0x15e, 0x1f4, 0x2ee, 0x3e8, 0x2710];
var pc_hp_level = [0xa, 0xa, 0xf, 0x19, 0x23, 0x37, 0x41, 0x4b];
var pc_atk_level = [0x2, 0x5, 0x8, 0xb, 0xf, 0x12, 0x14, 0x19];
var pc_def_level = [0x2, 0x3, 0x6, 0x8, 0xa, 0xc, 0xe, 0x10];
var p_defend = 0x0;
var p_attack = 0x0;
var itemDB = [];
itemDB[0x0] = [0x0, functionGenerator("0x57"), functionGenerator("0x23")];
itemDB[0x1] = [0x0, functionGenerator("0xbe"), functionGenerator("0x23")];
itemDB[0x2] = [0x0, functionGenerator("0x72"), functionGenerator("0xc1"), 0x0, 0x19];
itemDB[0x3] = [0x0, functionGenerator("0x39"), functionGenerator("0xc1"), 0x0, 0x5];
itemDB[0x4] = [
  0x0,
  "Aku\x20menemukan\x20uang\x202G",
  functionGenerator("0xc1"),
  0x0,
  0x2,
];
itemDB[0x5] = [0x0, functionGenerator("0x11"), functionGenerator("0x27"), 0x2];
itemDB[0x6] = [0x0, functionGenerator("0x3e"), "item", 0x0, 0xa];
itemDB[0x7] = [0x0, functionGenerator("0x47"), functionGenerator("0xc1"), 0x7, 0x1];
itemDB[0x8] = [0x0, functionGenerator("0x3e"), functionGenerator("0xc1"), 0x0, 0xa];
itemDB[0x9] = [0x0, functionGenerator("0x1d"), "close"];
itemDB[0xa] = [0x0, functionGenerator("0x5f"), functionGenerator("0x23")];
var e_hp = 0x0;
var e_hp_max = 0x0;
var no_soal = 0x0;
var answer_time = 0x1f4;
var temp_soal = [];
var temp_jawaban = [];
var jawaban_pemain = 0x0;
var jawaban_benar = 0x0;
var enemy = [];
enemy[0x0] = [
  0xc,
  0x1,
  "Tengkorak\x20kecil",
  0xa,
  0x2,
  0x2,
  0x1,
  0x1,
  0x5,
  0xa,
];
enemy[0x1] = [0xd, 0x2, functionGenerator("0x8c"), 0xc, 0x6, 0x3, 0x1, 0x1, 0x8, 0xc];
enemy[0x2] = [0xc, 0x3, functionGenerator("0x83"), 0x14, 0x9, 0x6, 0x2, 0x2, 0x14, 0x19];
enemy[0x3] = [0xd, 0x4, functionGenerator("0x93"), 0x19, 0xb, 0x7, 0x3, 0x2, 0x19, 0x14];
enemy[0x4] = [0xf, 0x5, functionGenerator("0x26"), 0x19, 0xf, 0xa, 0x4, 0x2, 0x1e, 0x1e];
enemy[0x5] = [0xe, 0x6, functionGenerator("0x15"), 0x1e, 0x14, 0xc, 0x5, 0x2, 0x28, 0x32];
enemyDB = [];
var key_up = ![];
var key_down = ![];
var key_left = ![];
var key_right = ![];
var key_space = ![];
function tombolditekan(x) {
  if (x[functionGenerator("0x6")] == 0x25) key_left = !![];
  if (x[functionGenerator("0x6")] == 0x26) key_up = !![];
  if (x[functionGenerator("0x6")] == 0x27) key_right = !![];
  if (x[functionGenerator("0x6")] == 0x28) key_down = !![];
  if (x[functionGenerator("0x6")] == 0x20) key_space = !![];
}
function tomboldilepas(y) {
  if (y["keyCode"] == 0x25) key_left = ![];
  if (y[functionGenerator("0x6")] == 0x26) key_up = ![];
  if (y[functionGenerator("0x6")] == 0x27) key_right = ![];
  if (y["keyCode"] == 0x28) key_down = ![];
  if (y["keyCode"] == 0x20) {
    key_space = ![];
    isAction = ![];
    if (just_talk == 0x0 && isActive) cekNPC();
  }
}
function aktifkanKeyboard() {
  addEventListener(functionGenerator("0xb9"), tombolditekan);
  addEventListener(functionGenerator("0x6f"), tomboldilepas);
}
function hapusLayar(warna = warnaBG, opsi = {}) {
  warnaBG = warna;
  konten["clearRect"](
    0x0,
    0x0,
    canvas[functionGenerator("0xc0")],
    canvas[functionGenerator("0x9a")]
  );
  konten["fillStyle"] = warnaBG;
  konten[functionGenerator("0x98")](
    0x0,
    0x0,
    canvas[functionGenerator("0xc0")],
    canvas[functionGenerator("0x9a")]
  );
  if (opsi["stat"] == functionGenerator("0x86")) {
    funcDB[functionGenerator("0x24")](opsi["func"]);
  }
  if (opsi[functionGenerator("0x7c")] == functionGenerator("0x56")) {
    funcDB = [];
  }
}
function trace(pesan) {
  console["log"](pesan);
}
function buildMap(dataPeta, ukuranTileset) {
  mapActive = dataPeta;
  tilesetSize = ukuranTileset[functionGenerator("0xc0")];
  var jumlahKolom = Math[functionGenerator("0x4c")](tilesetSize / tileW);
  var posisiXKarakter = Math[functionGenerator("0x4c")](charX - screenW / 0x2);
  var posisiYKarakter = Math[functionGenerator("0x4c")](charY - screenH / 0x2);
  for (var indeksX = 0x0; indeksX < screenW + 0x2; indeksX++) {
    for (var indexksY = 0x0; indexksY < screenH + 0x2; indexksY++) {
      var indeksKoordinatX = indeksX + posisiXKarakter;
      var indeksKoordinatY = indexksY + posisiYKarakter;
      if (
        indeksKoordinatX >= 0x0 &&
        indeksKoordinatY >= 0x0 &&
        indeksKoordinatX < dataPeta["length"] &&
        indeksKoordinatY < dataPeta[0x0][functionGenerator("0x1a")]
      ) {
        var kodeTiles = dataPeta[indeksKoordinatX][indeksKoordinatY][0x1];
        var posisiX =
          -(posX * skala) + mapX + (indeksX - 0x1) * tileW * skala;
        var posisiY =
          -(posY * skala) + mapY + (indexksY - 0x1) * tileW * skala;
        if (kodeTiles > -0x1) {
          var bagianAtas = Math[functionGenerator("0x4c")](kodeTiles / jumlahKolom);
          var bagianBawah = kodeTiles - bagianAtas * jumlahKolom;
          konten[functionGenerator("0x33")](
            ukuranTileset,
            bagianBawah * tileW,
            bagianAtas * tileW,
            tileW,
            tileW,
            posisiX,
            posisiY,
            tileW * skala,
            tileW * skala
          );
        }
        var kodeNPC = dataPeta[indeksKoordinatX][indeksKoordinatY][0x2];
        if (kodeNPC > 0x0) {
          var bagianAtasNPC = Math[functionGenerator("0x4c")](kodeNPC / jumlahKolom);
          var bagianBawahNPC = kodeNPC - bagianAtasNPC * jumlahKolom;
          konten[functionGenerator("0x33")](
            ukuranTileset,
            bagianBawahNPC * tileW,
            bagianAtasNPC * tileW,
            tileW,
            tileW,
            posisiX,
            posisiY,
            tileW * skala,
            tileW * skala
          );
        }
        if (indeksKoordinatX == charX + 0x1 && indeksKoordinatY == charY) {
          karakter["x"] = mapX + (indeksX - 0x2) * tileW * skala;
          karakter["y"] = mapY + (indexksY - 0x1) * tileW * skala;
          sprite(karakter, karakter[functionGenerator("0xac")]);
        }
        var indeksNPC = indeksKoordinatX - 0x1;
        if (indeksNPC >= 0x0) {
          if (dataPeta[indeksNPC][indeksKoordinatY][0x0] == 0x5) {
            var npcId = dataPeta[indeksNPC][indeksKoordinatY][0x3];
            var npc = this["npc_" + npcId];
            npc["x"] =
              posisiX +
              (npc[functionGenerator("0x20")] * skala) / 0x2 -
              tileW * skala;
            npc["y"] =
              posisiY + (npc[functionGenerator("0x97")] * skala) / 1.5;
            sprite(npc, npc[functionGenerator("0xac")]);
          }
        }
        if (mapActive == this[functionGenerator("0x5c") + battleArena]) {
          if (indeksNPC >= 0x0) {
            if (dataPeta[indeksNPC][indeksKoordinatY][0x0] == 0x9) {
              var enemyId = dataPeta[indeksNPC][indeksKoordinatY][0x3];
              var enemy = enemyDB[enemyId];
              enemy["x"] =
                posisiX + enemy[functionGenerator("0x1c")] * skala - tileW * skala;
              enemy["y"] = posisiY + enemy[functionGenerator("0x2f")] * skala;
              debugLog =
                enemy["id"] +
                functionGenerator("0x4b") +
                enemy[functionGenerator("0x4")] +
                functionGenerator("0x30") +
                enemy[functionGenerator("0x1c")] +
                "," +
                enemy["posY"] +
                functionGenerator("0x9") +
                enemy["charX"] +
                ",\x20" +
                enemy[functionGenerator("0xa8")];
              sprite(enemy, enemy[functionGenerator("0xac")]);
            }
          }
        }
      }
    }
  }
}
var dataGambar = {};
var dataSuara = {};
function preload(as, ad, sd) {
  siapkanGambar(fileGambar, function (qw) {
    dataGambar = qw;
    console[functionGenerator("0xb2")](functionGenerator("0x9b"));
    siapkanSuara(fileSuara, function (qe) {
      dataSuara = qe;
      console[functionGenerator("0xb2")](functionGenerator("0xbf"));
      sd();
    });
  });
}
function Sound(snd) {
  this["sound"] = document["createElement"](functionGenerator("0x2c"));
  this[functionGenerator("0x5d")][functionGenerator("0x40")] = snd;
  this[functionGenerator("0x5d")][functionGenerator("0xcd")](functionGenerator("0xb6"), functionGenerator("0xd0"));
  this[functionGenerator("0x5d")][functionGenerator("0xcd")](functionGenerator("0x16"), functionGenerator("0x4d"));
  this[functionGenerator("0x5d")][functionGenerator("0x4e")]["display"] = functionGenerator("0x4d");
  document["body"][functionGenerator("0x69")](this[functionGenerator("0x5d")]);
  this[functionGenerator("0x67")] = function () {
    this["sound"][functionGenerator("0x67")]();
  };
  this["stop"] = function () {
    this[functionGenerator("0x5d")][functionGenerator("0xa1")]();
  };
  this[functionGenerator("0xa")] = function () {
    this[functionGenerator("0x5d")][functionGenerator("0xcd")](functionGenerator("0xa"), functionGenerator("0xa"));
    this[functionGenerator("0x5d")][functionGenerator("0x67")]();
  };
}
function siapkanSuara(suaraData, callback) {
  var suaraObjek = {};
  var jumlahSuara = 0x0;
  var indeksSuara = 0x0;
  for (var suaraKey in suaraData) {
    indeksSuara++;
  }
  hapusLayar();
  teks(
    functionGenerator("0x73"),
    canvas[functionGenerator("0xc0")] / 0x2,
    canvas["height"] / 0x2 - 0x14,
    functionGenerator("0xe"),
    functionGenerator("0xbb"),
    "center"
  );
  kotakr(
    canvas[functionGenerator("0xc0")] / 0x2 - 0x96,
    canvas["height"] / 0x2 - 0xa,
    0x12c,
    0xf,
    0x4,
    0x2,
    functionGenerator("0xbb"),
    functionGenerator("0x4d")
  );
  console[functionGenerator("0xb2")](functionGenerator("0x44") + indeksSuara + functionGenerator("0x65"));
  for (var suaraKey in suaraData) {
    suaraObjek[suaraKey] = new Sound(suaraData[suaraKey]);
    hapusLayar();
    teks(
      functionGenerator("0x73"),
      canvas["width"] / 0x2,
      canvas[functionGenerator("0x9a")] / 0x2 - 0x14,
      functionGenerator("0xe"),
      functionGenerator("0xbb"),
      functionGenerator("0x2e")
    );
    var lbrKtk = (jumlahSuara / indeksSuara) * 0x12c;
    kotakr(
      canvas[functionGenerator("0xc0")] / 0x2 - 0x96,
      canvas["height"] / 0x2 - 0xa,
      lbrKtk,
      0xf,
      0x4,
      0x2,
      functionGenerator("0xbb"),
      functionGenerator("0xbb")
    );
    kotakr(
      canvas["width"] / 0x2 - 0x96,
      canvas[functionGenerator("0x9a")] / 0x2 - 0xa,
      0x12c,
      0xf,
      0x4,
      0x2,
      functionGenerator("0xbb"),
      "none"
    );
    console[functionGenerator("0xb2")](functionGenerator("0xc6"));
    if (++jumlahSuara >= indeksSuara) {
      callback(suaraObjek);
    }
  }
}
function siapkanGambar(gambarData, callback) {
  var gmbrObjek = {};
  var gmbrIndeks = 0x0;
  var jmlhGmbr = 0x0;
  konten["webkitImageSmoothingEnabled"] = smoothing;
  konten[functionGenerator("0x9f")] = smoothing;
  konten[functionGenerator("0x22")] = smoothing;
  for (var gambarKey in gambarData) {
    jmlhGmbr++;
  }
  hapusLayar();
  teks(
    "loading\x20graphic",
    canvas[functionGenerator("0xc0")] / 0x2,
    canvas[functionGenerator("0x9a")] / 0x2 - 0x14,
    "bold\x2014pt\x20Calibri",
    functionGenerator("0xbb"),
    functionGenerator("0x2e")
  );
  kotakr(
    canvas["width"] / 0x2 - 0x96,
    canvas["height"] / 0x2 - 0xa,
    0x12c,
    0xf,
    0x4,
    0x2,
    functionGenerator("0xbb"),
    functionGenerator("0x4d")
  );
  for (var gambarKey in gambarData) {
    gmbrObjek[gambarKey] = new Image();
    gmbrObjek[gambarKey][functionGenerator("0xc3")] = function () {
      hapusLayar();
      teks(
        "loading\x20graphic",
        canvas[functionGenerator("0xc0")] / 0x2,
        canvas[functionGenerator("0x9a")] / 0x2 - 0x14,
        functionGenerator("0xe"),
        functionGenerator("0xbb"),
        functionGenerator("0x2e")
      );
      var gmbrLbr = (gmbrIndeks / jmlhGmbr) * 0x12c;
      kotakr(
        canvas[functionGenerator("0xc0")] / 0x2 - 0x96,
        canvas[functionGenerator("0x9a")] / 0x2 - 0xa,
        gmbrLbr,
        0xf,
        0x4,
        0x2,
        functionGenerator("0xbb"),
        functionGenerator("0xbb")
      );
      kotakr(
        canvas[functionGenerator("0xc0")] / 0x2 - 0x96,
        canvas["height"] / 0x2 - 0xa,
        0x12c,
        0xf,
        0x4,
        0x2,
        "white",
        functionGenerator("0x4d")
      );
      if (++gmbrIndeks >= jmlhGmbr) {
        callback(gmbrObjek);
      }
    };
    gmbrObjek[gambarKey][functionGenerator("0x40")] = gambarData[gambarKey];
  }
}
function sprite(objGambar, frameGambar) {
  if (
    objGambar["visible"] == !![] ||
    objGambar["visible"] == undefined ||
    objGambar[functionGenerator("0x3f")] == null
  ) {
    var lebarFrame = objGambar[functionGenerator("0x95")][functionGenerator("0xc0")];
    var tinggiFrame = objGambar[functionGenerator("0x95")][functionGenerator("0x9a")];
    if (objGambar[functionGenerator("0x20")] == NaN || objGambar["tileW"] == undefined)
      objGambar[functionGenerator("0x20")] = 0x20;
    if (objGambar["tileH"] == NaN || objGambar["tileH"] == undefined)
      objGambar["tileH"] = 0x20;
    var lebarPerFrame = Math[functionGenerator("0x4c")](
      lebarFrame / objGambar[functionGenerator("0x20")]
    );
    var tinggiPerFrame = Math[functionGenerator("0x4c")](
      tinggiFrame / objGambar[functionGenerator("0x97")]
    );
    var ukuranFrame = lebarPerFrame * tinggiPerFrame;
    var jumlahFrame = Math[functionGenerator("0x4c")]((frameGambar - 0x1) / lebarPerFrame);
    var posisiFrame = frameGambar - 0x1 - jumlahFrame * lebarPerFrame;
    if (objGambar[functionGenerator("0xc4")] != null) {
      var lebarObjek = objGambar[functionGenerator("0xc4")][functionGenerator("0xc0")];
      var tinggiBayangan = objGambar["shad"][functionGenerator("0x9a")];
      konten[functionGenerator("0x33")](
        objGambar[functionGenerator("0xc4")],
        objGambar["x"] - (lebarObjek / 0x2) * objGambar["skala"],
        objGambar["y"] - (tinggiBayangan / 0x2) * objGambar[functionGenerator("0x41")],
        lebarObjek * objGambar["skala"],
        tinggiBayangan * objGambar[functionGenerator("0x41")]
      );
    }
    konten[functionGenerator("0x33")](
      objGambar[functionGenerator("0x95")],
      posisiFrame * objGambar[functionGenerator("0x20")],
      jumlahFrame * objGambar[functionGenerator("0x97")],
      objGambar[functionGenerator("0x20")],
      objGambar[functionGenerator("0x97")],
      objGambar["x"] - (objGambar["tileW"] / 0x2) * objGambar[functionGenerator("0x41")],
      objGambar["y"] - objGambar[functionGenerator("0x97")] * objGambar[functionGenerator("0x41")],
      objGambar[functionGenerator("0x41")] * objGambar[functionGenerator("0x20")],
      objGambar[functionGenerator("0x41")] * objGambar["tileH"]
    );
  }
}
var warn = "";
var warnTime = 0x0;
var warnStat = 0x0;
var warning = {};
function textWarning(
  teks,
  xKoordinat,
  yKoordinat,
  _x,
  warna,
  jenisTeks = functionGenerator("0x2e")
) {
  isBlink = !![];
  warnTime = 0x0;
  warnStat = 0x0;
  warning = {
    txt: teks,
    px: xKoordinat,
    py: yKoordinat,
    clr: warna,
    alg: jenisTeks,
  };
}
function doBlink() {
  warnTime++;
  if (warnTime > 0xf) {
    warnTime = 0x0;
    if (warnStat == 0x0) {
      warnStat = 0x1;
    } else {
      warnStat = 0x0;
    }
  }
  if (warnStat == 0x1)
    teks(
      warning["txt"],
      warning["px"],
      warning["py"],
      warning[functionGenerator("0x88")],
      warning[functionGenerator("0x80")],
      warning[functionGenerator("0x76")]
    );
}
function stopWarning() {
  isBlink = ![];
}
function teks(
  teks,
  j,
  k,
  style = "bold\x2016pt\x20Calibri",
  stroke = functionGenerator("0x48"),
  textAlign = "center"
) {
  konten[functionGenerator("0x2a")] = style;
  konten[functionGenerator("0xa4")] = stroke;
  konten[functionGenerator("0x3a")] = textAlign;
  konten[functionGenerator("0x18")] = functionGenerator("0xad");
  konten["strokeText"](teks, j, k);
  konten[functionGenerator("0x71")](teks, j, k);
}
function teksHTML(
  teks,
  j,
  k,
  htmlTeks,
  style,
  textAlign
) {
  var potonganStyle = style[functionGenerator("0x85")]("-");
  var ukuranFont = potonganStyle[0x1];
  var namaFont = potonganStyle[0x1];
  var ukuran = Number(potonganStyle[0x0][functionGenerator("0x55")](0x0, 0x2));
  var styleTambahan = potonganStyle[0x2];
  konten[functionGenerator("0x3a")] = functionGenerator("0xbd");
  var faktorSkala = 1.5;
  if (potonganStyle[0x3] != undefined || potonganStyle[0x3] != null) {
    faktorSkala = Number(potonganStyle[0x3]);
  }
  namaFont = functionGenerator("0x17") + namaFont;
  var zzFontStyle = [];
  var zyTextLayout = [0x0];
  var zxText = "";
  var zw = "";
  var shouldBold = ![];
  var shouldItalic = ![];
  var shouldSmaller = ![];
  var zs = ![];
  var zrFontSize = 0x0,
    zqFontColor = 0x0;
  var wordWidth, zo;
  var zn = ["b", "strong", "i", "em", functionGenerator("0x8a"), functionGenerator("0x46")];
  var zm = 0x0;
  var words = "";
  var zk = "";
  var zj = "";
  var currentWord = zxText;
  var xOffset = "";
  function formatText() {
    var teks = "";
    var fontSize = ukuran;
    if (shouldBold) teks += functionGenerator("0x52");
    if (shouldItalic) teks += functionGenerator("0xa6");
    if (shouldSmaller || zs) {
      fontSize = 0.8 * ukuran;
      if (shouldSmaller) zqFontColor -= 0.3 * ukuran;
      else zqFontColor += 0.3 * ukuran;
    }
    konten[functionGenerator("0x2a")] = teks + fontSize + namaFont;
    words = zxText["split"]("\x20");
    zk = "";
    zj = "";
    currentWord = zxText;
    xOffset = "";
    zm = 0x0;
    for (
      var ii = 0x0;
      ii < words[functionGenerator("0x1a")];
      ii++
    ) {
      zj = zk;
      zk += words[ii] + "\x20";
      wordWidth = zrFontSize + konten["measureText"](zk)[functionGenerator("0xc0")];
      zm =
        zrFontSize + konten[functionGenerator("0x78")](zj)[functionGenerator("0xc0")];
      if (wordWidth > htmlTeks) {
        xOffset += zj;
        zyTextLayout[functionGenerator("0x24")]([
          zrFontSize,
          zqFontColor,
          konten[functionGenerator("0x2a")],
          zj,
          zm,
        ]);
        currentWord = zxText[functionGenerator("0x55")](xOffset[functionGenerator("0x1a")]);
        ii--;
        zrFontSize = 0x0;
        zqFontColor = 0x0;
        zk = "";
        zzFontStyle[functionGenerator("0x24")](zyTextLayout);
        zyTextLayout = [0x0];
      }
    }
    if (currentWord[functionGenerator("0x1a")] > 0x0) {
      wordWidth = konten[functionGenerator("0x78")](currentWord)[functionGenerator("0xc0")];
      zm = zrFontSize + wordWidth;
      zyTextLayout[functionGenerator("0x24")]([
        zrFontSize,
        zqFontColor,
        konten[functionGenerator("0x2a")],
        currentWord,
        zm,
      ]);
      zxText = "";
      zrFontSize += wordWidth;
    }
  }
  function generateTextLayout() {
    if (zxText !== "") formatText();
    zyTextLayout[0x0] = zrFontSize;
    zzFontStyle[functionGenerator("0x24")](zyTextLayout);
    zyTextLayout = [0x0];
    zrFontSize = zqFontColor = 0x0;
  }
  for (
    var jj = 0x0;
    jj < teks[functionGenerator("0x1a")];
    jj++
  ) {
    var tk = teks[jj];
    if (tk == "\x0a") {
      generateTextLayout();
    } else if (tk != "<") {
      zxText += tk;
    } else {
      zo = jj + 0x1;
      jj++;
      zw = teks[jj];
      var cc = ![];
      if (zw == "/") {
        zw = "";
        cc = !![];
      }
      var dd = !![];
      for (
        jj = jj + 0x1;
        jj < teks[functionGenerator("0x1a")];
        jj++
      ) {
        if (teks[jj] == "<") {
          jj = jj - 0x1;
          zxText += "<" + zw;
          formatText();
          dd = ![];
          break;
        }
        if (teks[jj] == ">") break;
        zw += teks[jj];
      }
      if (!dd) continue;
      if (zw == "br" || zw == functionGenerator("0x5")) {
        generateTextLayout();
      } else {
        if (zn[functionGenerator("0x4a")](zw) >= 0x0 && zxText !== "")
          formatText();
        switch (zw) {
          case "b":
          case "strong":
            shouldBold = !cc;
            break;
          case "i":
          case "em":
            shouldItalic = !cc;
            break;
          case functionGenerator("0x8a"):
            shouldSmaller = !cc;
            if (cc) zqFontColor = 0x0;
            break;
          case functionGenerator("0x46"):
            zs = !cc;
            if (cc) zqFontColor = 0x0;
            break;
          default:
            zxText += "<" + zw + ">";
        }
      }
    }
  }
  if (zxText[functionGenerator("0x1a")] > 0x0) {
    words = zxText[functionGenerator("0x85")]("\x20");
    zk = "";
    zj = "";
    currentWord = zxText;
    xOffset = "";
    konten[functionGenerator("0x2a")] = ukuran + namaFont;
    for (jj = 0x0; jj < words["length"]; jj++) {
      zj = zk;
      zk += words[jj] + "\x20";
      wordWidth = zrFontSize + konten[functionGenerator("0x78")](zk)["width"];
      zm =
        zrFontSize + konten[functionGenerator("0x78")](zj)[functionGenerator("0xc0")];
      if (wordWidth > htmlTeks) {
        xOffset += zj;
        zyTextLayout[functionGenerator("0x24")]([
          zrFontSize,
          zqFontColor,
          konten[functionGenerator("0x2a")],
          zj,
          zm,
        ]);
        currentWord = zxText[functionGenerator("0x55")](xOffset[functionGenerator("0x1a")]);
        zrFontSize = 0x0;
        zqFontColor = 0x0;
        jj--;
        zk = "";
        zzFontStyle[functionGenerator("0x24")](zyTextLayout);
        zyTextLayout = [0x0];
      }
    }
    if (currentWord["length"] > 0x0) {
      wordWidth = konten[functionGenerator("0x78")](currentWord)[functionGenerator("0xc0")];
      zm = zrFontSize + wordWidth;
      zyTextLayout[functionGenerator("0x24")]([
        zrFontSize,
        zqFontColor,
        konten["font"],
        currentWord,
        zm,
      ]);
      zzFontStyle["push"](zyTextLayout);
      zxText = "";
      zrFontSize += wordWidth;
    }
  }
  var iv, ij;
  var ib = 0x0;
  var ik = -0x1;
  for (ij in zzFontStyle) {
    if (zzFontStyle[ij][0x0] > ik)
      ik = zzFontStyle[ij][0x0];
  }
  for (ij in zzFontStyle) {
    k += faktorSkala * ukuran;
    ib++;
    for (var ijStyle in zzFontStyle[ij]) {
      var ijk = zzFontStyle[ij][ijStyle];
      if (ijk[0x1] === undefined) {
        iv = ijk;
        continue;
      }
      var yy =
        zzFontStyle[ij][zzFontStyle[ij][functionGenerator("0x1a")] - 0x1];
      if (yy[functionGenerator("0x1a")] > 0x1) {
        zm = yy[0x4];
      }
      konten[functionGenerator("0x2a")] = ijk[0x2];
      konten[functionGenerator("0xa4")] = textAlign;
      switch (styleTambahan) {
        case functionGenerator("0xbd"):
          zrFontSize = j + ijk[0x0];
          zqFontColor = k + ijk[0x1];
          break;
        case functionGenerator("0x2e"):
          zrFontSize =
            j + htmlTeks / 0x2 + ijk[0x0] - zm / 0x2;
          zqFontColor = k + ijk[0x1];
          break;
        case functionGenerator("0x2"):
          zrFontSize = j + ijk[0x0] + htmlTeks - zm;
          zqFontColor = k + ijk[0x1];
          break;
        default:
          throw new Error(styleTambahan + functionGenerator("0x54"));
      }
      konten["fillText"](ijk[0x3], zrFontSize, zqFontColor);
    }
  }
}
function garis(
  koorXAwal,
  koorYAwal,
  koorXAkhir,
  koorYAkhir,
  lebarGaris = 0x1,
  objekContext = functionGenerator("0x1")
) {
  konten[functionGenerator("0x18")] = objekContext;
  konten["lineWidth"] = lebarGaris;
  konten[functionGenerator("0x32")]();
  konten["moveTo"](koorXAwal, koorYAwal);
  konten[functionGenerator("0xd1")](koorXAkhir, koorYAkhir);
  konten[functionGenerator("0x14")]();
}
function kotakr(
  x,
  y,
  width,
  height,
  borderRadius = 0x5,
  fillcolor = 0x1,
  strokeColorGenerator = functionGenerator("0x1"),
  fillcolorGenerator = functionGenerator("0x90")
) {
  borderRadius = {
    tl: borderRadius,
    tr: borderRadius,
    br: borderRadius,
    bl: borderRadius,
  };
  konten["beginPath"]();
  konten[functionGenerator("0x7a")](x + borderRadius["tl"], y);
  konten["lineTo"](x + width - borderRadius["tr"], y);
  konten[functionGenerator("0x6c")](
    x + width,
    y,
    x + width,
    y + borderRadius["tr"]
  );
  konten[functionGenerator("0xd1")](
    x + width,
    y + height - borderRadius["br"]
  );
  konten["quadraticCurveTo"](
    x + width,
    y + height,
    x + width - borderRadius["br"],
    y + height
  );
  konten[functionGenerator("0xd1")](x + borderRadius["bl"], y + height);
  konten["quadraticCurveTo"](
    x,
    y + height,
    x,
    y + height - borderRadius["bl"]
  );
  konten[functionGenerator("0xd1")](x, y + borderRadius["tl"]);
  konten["quadraticCurveTo"](
    x,
    y,
    x + borderRadius["tl"],
    y
  );
  konten[functionGenerator("0x81")]();
  if (fillcolorGenerator != functionGenerator("0x4d")) {
    konten[functionGenerator("0xa4")] = fillcolorGenerator;
    konten[functionGenerator("0x0")]();
  }
  if (strokeColorGenerator != functionGenerator("0x4d")) {
    konten[functionGenerator("0x13")] = fillcolor;
    konten[functionGenerator("0x18")] = strokeColorGenerator;
    konten[functionGenerator("0x14")]();
  }
}
function kotakrs(
  x,
  y,
  width,
  height,
  margin = 0x5,
  borderRadius = 0x1,
  shadowColorGenerator = functionGenerator("0x1"),
  cornerRadiusGenerator = functionGenerator("0x90"),
  cornerColorGenerator = functionGenerator("0x4d")
) {
  margin = {
    tl: margin,
    tr: margin,
    br: margin,
    bl: margin,
  };
  konten[functionGenerator("0x32")]();
  konten[functionGenerator("0x7a")](x + margin["tl"], y);
  konten[functionGenerator("0xd1")](x + width - margin["tr"], y);
  konten["quadraticCurveTo"](
    x + width,
    y,
    x + width,
    y + margin["tr"]
  );
  konten["lineTo"](
    x + width,
    y + height - margin["br"]
  );
  konten[functionGenerator("0x6c")](
    x + width,
    y + height,
    x + width - margin["br"],
    y + height
  );
  konten[functionGenerator("0xd1")](x + margin["bl"], y + height);
  konten[functionGenerator("0x6c")](
    x,
    y + height,
    x,
    y + height - margin["bl"]
  );
  konten[functionGenerator("0xd1")](x, y + margin["tl"]);
  konten["quadraticCurveTo"](
    x,
    y,
    x + margin["tl"],
    y
  );
  konten[functionGenerator("0x81")]();
  konten[functionGenerator("0x18")] = shadowColorGenerator;
  konten[functionGenerator("0x14")]();
  if (cornerColorGenerator != functionGenerator("0x4d")) {
    konten["shadowColor"] = functionGenerator("0x6b");
    konten[functionGenerator("0xb5")] = 0x5;
    konten[functionGenerator("0x31")] = 0xa;
    konten[functionGenerator("0xcb")] = 0xa;
  }
  konten[functionGenerator("0xa4")] = cornerRadiusGenerator;
  konten[functionGenerator("0x0")]();
  konten[functionGenerator("0x13")] = borderRadius;
  konten[functionGenerator("0x42")] = "";
  konten["shadowBlur"] = 0x0;
  konten[functionGenerator("0x31")] = 0x0;
  konten[functionGenerator("0xcb")] = 0x0;
}
function kotak(
  x,
  y,
  width,
  height,
  borderRadius = 0x1,
  borderColor = functionGenerator("0x1"),
  fillColor = functionGenerator("0x90")
) {
  konten[functionGenerator("0x32")]();
  konten[functionGenerator("0x75")](x, y, width, height);
  if (fillColor != "none") {
    konten[functionGenerator("0xa4")] = fillColor;
    konten[functionGenerator("0x0")]();
  }
  if (borderColor != functionGenerator("0x4d")) {
    konten[functionGenerator("0x13")] = borderRadius;
    konten[functionGenerator("0x18")] = borderColor;
    konten["stroke"]();
  }
}
function garisGrid() {
  var indeks;
  for (indeks = 0x0; indeks < screenW; indeks++) {
    garis(
      mapX + indeks * tileW * skala,
      mapY,
      mapX + indeks * tileW * skala,
      mapY + screenH * tileW * skala
    );
  }
  for (indeks = 0x0; indeks < screenH; indeks++) {
    garis(
      mapX,
      mapY + indeks * tileW * skala,
      mapX + screenW * tileW * skala,
      mapY + indeks * tileW * skala
    );
  }
}
function gerak(arah) {
  var posisiXBaru, posisiYBaru, indeksKarakter, indeksKoordinat;
  step++;
  if (step > 0x0) {
    step = 0x0;
    if (arah == 0x1) {
      karakter[functionGenerator("0x4")] = 0x4;
      posisiYBaru = posY - 0x2 * speed;
      indeksKoordinat = charY;
      if (posisiYBaru < 0x0) indeksKoordinat--;
      if (indeksKoordinat >= 0x0) {
        if (
          mapActive[charX][indeksKoordinat][0x0] == 0x0 ||
          mapActive[charX][indeksKoordinat][0x0] == 0x9
        ) {
          posY -= speed;
          if (posY < 0x0) {
            posY += tileW;
            charY--;
          }
        }
      }
    }
    if (arah == 0x2) {
      karakter[functionGenerator("0x4")] = 0x3;
      posisiXBaru = posX + speed * 0x2;
      indeksKarakter = charX;
      if (posisiXBaru > tileW) {
        indeksKarakter = charX + 0x1;
      }
      if (indeksKarakter < mapActive[functionGenerator("0x1a")]) {
        if (
          mapActive[indeksKarakter][charY][0x0] == 0x0 ||
          mapActive[indeksKarakter][charY][0x0] == 0x9
        ) {
          posX += speed;
          if (posX > tileW) {
            posX -= tileW;
            charX++;
          }
        }
      }
    }
    if (arah == 0x3) {
      karakter["arah"] = 0x1;
      posisiYBaru = posY + speed;
      indeksKoordinat = charY;
      if (posisiYBaru > tileW) indeksKoordinat++;
      if (indeksKoordinat < mapActive[0x0][functionGenerator("0x1a")]) {
        if (
          mapActive[charX][indeksKoordinat][0x0] == 0x0 ||
          mapActive[charX][indeksKoordinat][0x0] == 0x9
        ) {
          posY += speed;
          if (posY > tileW) {
            posY -= tileW;
            charY++;
          }
        }
      }
    }
    if (arah == 0x4) {
      karakter[functionGenerator("0x4")] = 0x2;
      posisiXBaru = posX - speed * 0x2;
      indeksKarakter = charX;
      if (posisiXBaru < 0x0) {
        indeksKarakter = charX - 0x1;
      }
      if (indeksKarakter >= 0x0) {
        if (
          mapActive[indeksKarakter][charY][0x0] == 0x0 ||
          mapActive[indeksKarakter][charY][0x0] == 0x9
        ) {
          posX -= speed;
          if (posX < 0x0) {
            posX += tileW;
            charX--;
          }
        }
      }
    }
    stepDelay++;
    if (stepDelay > 0x3) {
      karakter["langkah"]++;
      if (karakter[functionGenerator("0x70")] > 0x3) karakter[functionGenerator("0x70")] = 0x0;
      karakter[functionGenerator("0xac")] =
        (karakter[functionGenerator("0x4")] - 0x1) * 0x3 + walkFrame[karakter["langkah"]];
      stepDelay = 0x0;
    }
  }
}
function gerakKarakter() {
  if (isActive) {
    if (key_up) {
      gerak(0x1);
    } else if (key_right) {
      gerak(0x2);
    } else if (key_down) {
      gerak(0x3);
    } else if (key_left) {
      gerak(0x4);
    } else if (key_space && !isAction) {
      isAction = !![];
      cekPintu();
      collectItem();
    }
  }
}
function cekPintu() {
  var cekPintu = ![];
  if (karakter[functionGenerator("0x4")] == 0x1) {
    if (mapActive[charX][charY + 0x1][0x0] == 0x2) {
      cekPintu = !![];
      doorID = mapActive[charX][charY + 0x1][0x3];
    }
  }
  if (karakter[functionGenerator("0x4")] == 0x2) {
    if (mapActive[charX - 0x1][charY][0x0] == 0x2) {
      cekPintu = !![];
      doorID = mapActive[charX - 0x1][charY][0x3];
    }
  }
  if (karakter[functionGenerator("0x4")] == 0x3) {
    if (mapActive[charX + 0x1][charY][0x0] == 0x2) {
      cekPintu = !![];
      doorID = mapActive[charX + 0x1][charY][0x3];
    }
  }
  if (karakter[functionGenerator("0x4")] == 0x4) {
    if (mapActive[charX][charY - 0x1][0x0] == 0x2) {
      cekPintu = !![];
      doorID = mapActive[charX][charY - 0x1][0x3];
    }
  }
  if (cekPintu) {
    if (doorID != 0x0) {
      lastMap = mapID;
      trace(functionGenerator("0x8d") + lastMap);
      mapID = doorID;
      findDoor(this[functionGenerator("0x5c") + doorID]);
    }
    addWipe(functionGenerator("0xc5"));
  }
}
function addWipe(mn) {
  isActive = ![];
  isWipe = !![];
  wipeTime = 0x0;
  wipeStat = 0x0;
  wipeAct = mn;
}
function doWipe() {
  var x;
  if (wipeStat == 0x0) {
    wipeTime += 0xa;
    x = canvas[functionGenerator("0xc0")] / 0x2 - wipeTime * 0x2;
    if (x < 0xa) {
      wipeTime = 0x0;
      wipeStat = 0x1;
      kotak(
        0x0,
        0x0,
        canvas[functionGenerator("0xc0")],
        canvas[functionGenerator("0x9a")],
        0x1,
        functionGenerator("0x60"),
        functionGenerator("0x60")
      );
    } else {
      konten[functionGenerator("0x32")]();
      konten[functionGenerator("0xb3")](
        karakter["x"],
        karakter["y"],
        canvas["width"],
        0x0,
        0x2 * Math["PI"],
        ![]
      );
      konten["arc"](
        karakter["x"],
        karakter["y"],
        x,
        0x0,
        0x2 * Math["PI"],
        ![]
      );
      konten[functionGenerator("0xa4")] = functionGenerator("0x1");
      konten[functionGenerator("0x0")](functionGenerator("0xaf"));
    }
  } else if (wipeStat == 0x1) {
    kotak(
      0x0,
      0x0,
      canvas[functionGenerator("0xc0")],
      canvas["height"],
      0x1,
      functionGenerator("0x60"),
      functionGenerator("0x60")
    );
    if (wipeAct == "room") {
      mapActive = this[functionGenerator("0x5c") + doorID];
      if (karakter[functionGenerator("0x4")] == 0x1) {
        charX = doorX;
        charY = doorY + 0x1;
        posY = 0x5;
      }
      if (karakter[functionGenerator("0x4")] == 0x2) {
        charX = doorX - 0x1;
        charY = doorY;
        posX = tileW - 0x5;
      }
      if (karakter["arah"] == 0x3) {
        charX = doorX + 0x1;
        charY = doorY;
        posX = 0x5;
      }
      if (karakter["arah"] == 0x4) {
        charX = doorX;
        charY = doorY - 0x1;
        posY = tileW - 0x5;
      }
      if (doorID == battleArena) {
        if (!enemyReady) {
          enemyReady = !![];
          setupEnemy();
          dataSuara["bgm1"][functionGenerator("0xa5")]();
          dataSuara[functionGenerator("0x36")][functionGenerator("0xa")]();
        }
      } else {
        if (lastMap == battleArena && enemyReady) {
          trace("try\x20to\x20remove\x20enemy");
          enemyReady = ![];
          removeEnemy();
          dataSuara[functionGenerator("0x36")][functionGenerator("0xa5")]();
          dataSuara[functionGenerator("0x66")][functionGenerator("0xa")]();
        }
      }
    }
    if (wipeAct == functionGenerator("0x12")) {
      pc_hp = pc_hp_max;
    }
    if (wipeAct == functionGenerator("0x38")) {
      isBattle = !![];
      if (wipeTime == 0x0) {
        oldScale = skala;
        skala = 0x2;
        buat_soal();
        prepare_battle();
        enemyDB[enemyID]["x"] = -0x64;
        enemyDB[enemyID]["y"] = -0x64;
        karakter[functionGenerator("0x3f")] = ![];
        dataSuara[functionGenerator("0x36")][functionGenerator("0xa5")]();
        dataSuara[functionGenerator("0x94")]["loop"]();
      }
    }
    if (wipeAct == functionGenerator("0x34") && wipeTime == 0x0) {
      isBattle = ![];
      battleScene = ![];
      skala = oldScale;
      karakter[functionGenerator("0x41")] = skala;
      removeEnemy();
      setupEnemy();
      trace("end\x20battle");
      dataSuara[functionGenerator("0x94")][functionGenerator("0xa5")]();
      dataSuara[functionGenerator("0x36")][functionGenerator("0xa")]();
    }
    wipeTime++;
    if (wipeTime > 0x5) {
      wipeStat = 0x2;
      wipeTime = 0x0;
    }
  } else if (wipeStat == 0x2) {
    wipeTime += 0xa;
    x = wipeTime * 0x2;
    if (x > canvas["width"] / 0x2) {
      if (!isBattle) {
        wipeTime = 0x0;
        wipeStat = 0x0;
        isWipe = ![];
        isActive = !![];
        if (wipeAct == functionGenerator("0x12")) {
          addDialog(this[functionGenerator("0xcf") + npcID], 0x4);
        }
      } else {
        battleStat = 0x1;
        wipeTime = 0x0;
        wipeStat = 0x0;
        isWipe = ![];
      }
      karakter[functionGenerator("0x3f")] = !![];
    } else {
      konten[functionGenerator("0x32")]();
      konten[functionGenerator("0xb3")](
        karakter["x"],
        karakter["y"],
        canvas["width"],
        0x0,
        0x2 * Math["PI"],
        ![]
      );
      konten[functionGenerator("0xb3")](
        karakter["x"],
        karakter["y"],
        x,
        0x0,
        0x2 * Math["PI"],
        ![]
      );
      konten[functionGenerator("0xa4")] = functionGenerator("0x1");
      konten[functionGenerator("0x0")]("evenodd");
    }
  }
}
function findDoor(map) {
  for (
    var indeksBaris = 0x0;
    indeksBaris < map[functionGenerator("0x1a")];
    indeksBaris++
  ) {
    for (
      var indeksKolom = 0x0;
      indeksKolom < map[0x0]["length"];
      indeksKolom++
    ) {
      if (map[indeksBaris][indeksKolom][0x0] == 0x2) {
        if (map[indeksBaris][indeksKolom][0x3] == lastMap) {
          doorX = indeksBaris;
          doorY = indeksKolom;
        }
      }
    }
  }
  trace(
    doorID +
      functionGenerator("0xbc") +
      doorX +
      "\x20" +
      doorY +
      functionGenerator("0x5a") +
      lastMap
  );
}
function gameLoops() {
  hapusLayar();
  gerakKarakter();
  if (storyID == 0x0) {
    storyID = 0x1;
    addDialog(awal_cerita, 0x0);
  }
  if (mapActive == this[functionGenerator("0x5c") + battleArena] && !isBattle)
    moveEnemy();
  if (isBattle) {
    setupBattle();
  } else {
    buildMap(mapActive, dataGambar[functionGenerator("0x2d")]);
  }
  if (!isActive) {
    if (isWipe) doWipe();
    if (isTalk) doTalk();
    if (isBuying) doBuy();
  }
  if (just_talk > 0x0) just_talk--;
  if (isBlink) doBlink();
  addGUI();
}
function setMap(IDm, x, y) {
  mapID = IDm;
  mapActive = this["map_" + mapID];
  screenW =
    Math[functionGenerator("0x4c")](canvas[functionGenerator("0xc0")] / (tileW * skala)) + 0x2;
  screenH =
    Math[functionGenerator("0x4c")](canvas[functionGenerator("0x9a")] / (tileW * skala)) + 0x2;
  karakter["x"] = 0xa;
  karakter["y"] = 0xa;
  karakter["tileW"] = 0x20;
  karakter[functionGenerator("0x97")] = 0x20;
  karakter[functionGenerator("0x41")] = skala;
  karakter[functionGenerator("0x4")] = 0x1;
  karakter[functionGenerator("0xac")] = 0x2;
  karakter[functionGenerator("0x70")] = 0x0;
  charX = x;
  charY = y;
}
function jalankanGame() {
  enterFrame = setInterval(gameLoops, 0x21);
}
function setNPC(jumlahNPC) {
  for (var indeksNPC = 0x1; indeksNPC <= jumlahNPC; indeksNPC++) {
    this[functionGenerator("0x51") + indeksNPC] = {
      img: dataGambar[functionGenerator("0xd2") + indeksNPC],
      shad: dataGambar[functionGenerator("0xba")],
      x: 0x0,
      y: 0x0,
      tileW: karakter[functionGenerator("0x20")],
      tileH: karakter["tileH"],
      arah: 0x1,
      frame: 0x2,
      skala: skala,
    };
  }
}
function cekNPC() {
  var cekNPC = ![];
  if (karakter[functionGenerator("0x4")] == 0x1) {
    if (mapActive[charX][charY + 0x1][0x0] == 0x5) {
      cekNPC = !![];
      npcID = mapActive[charX][charY + 0x1][0x3];
    }
    if (
      mapActive[charX][charY + 0x1][0x0] == 0x1 &&
      mapActive[charX][charY + 0x2][0x0] == 0x5
    ) {
      cekNPC = !![];
      npcID = mapActive[charX][charY + 0x2][0x3];
    }
  }
  if (karakter[functionGenerator("0x4")] == 0x2) {
    if (mapActive[charX - 0x1][charY][0x0] == 0x5) {
      cekNPC = !![];
      npcID = mapActive[charX - 0x1][charY][0x3];
    }
    if (
      mapActive[charX - 0x1][charY][0x0] == 0x1 &&
      mapActive[charX - 0x2][charY][0x0] == 0x5
    ) {
      cekNPC = !![];
      npcID = mapActive[charX - 0x2][charY][0x3];
    }
  }
  if (karakter[functionGenerator("0x4")] == 0x3) {
    if (mapActive[charX + 0x1][charY][0x0] == 0x5) {
      cekNPC = !![];
      npcID = mapActive[charX + 0x1][charY][0x3];
    }
    if (
      mapActive[charX + 0x1][charY][0x0] == 0x1 &&
      mapActive[charX + 0x2][charY][0x0] == 0x5
    ) {
      cekNPC = !![];
      npcID = mapActive[charX + 0x2][charY][0x3];
    }
  }
  if (karakter[functionGenerator("0x4")] == 0x4) {
    if (mapActive[charX][charY - 0x1][0x0] == 0x5) {
      cekNPC = !![];
      npcID = mapActive[charX][charY - 0x1][0x3];
    }
    if (
      mapActive[charX][charY - 0x1][0x0] == 0x1 &&
      mapActive[charX][charY - 0x2][0x0] == 0x5
    ) {
      cekNPC = !![];
      npcID = mapActive[charX][charY - 0x2][0x3];
    }
  }
  if (cekNPC) {
    just_talk = 0x1e;
    if (karakter["arah"] == 0x1) this["npc_" + npcID]["frame"] = 0xb;
    if (karakter["arah"] == 0x2)
      this[functionGenerator("0x51") + npcID][functionGenerator("0xac")] = 0x8;
    if (karakter[functionGenerator("0x4")] == 0x3)
      this[functionGenerator("0x51") + npcID]["frame"] = 0x5;
    if (karakter[functionGenerator("0x4")] == 0x4)
      this["npc_" + npcID][functionGenerator("0xac")] = 0x2;
    debugLog = functionGenerator("0x87") + npcID;
    var _0x16e4ee = this[functionGenerator("0xcf") + npcID];
    if (_0x16e4ee[functionGenerator("0x1a")] > 0x0) addDialog(_0x16e4ee);
  }
}
function drawPanel(
  warnaGaris,
  warnaTulisan,
  ukuranTulisan,
  tebalGaris,
  posisiX,
  posisiY
) {
  var xKoor = 0x0;
  var yKoor = 0x0;
  var posisiKananAtas = 0x0;
  var posisiKiriBawah = 0x0;
  if (posisiX == functionGenerator("0x8b")) {
    if (posisiY == 0x1) {
      posisiKananAtas = 0x0;
      posisiKiriBawah = 0x0;
    }
    if (posisiY == 0x2) {
      posisiKananAtas = 0x3;
      posisiKiriBawah = 0x0;
    }
    if (posisiY == 0x3) {
      posisiKananAtas = 0x6;
      posisiKiriBawah = 0x0;
    }
    if (posisiY == 0x4) {
      posisiKananAtas = 0x0;
      posisiKiriBawah = 0x3;
    }
    if (posisiY == 0x5) {
      posisiKananAtas = 0x3;
      posisiKiriBawah = 0x3;
    }
    if (posisiY == 0x6) {
      posisiKananAtas = 0x6;
      posisiKiriBawah = 0x3;
    }
    var indeksKarakter = 0x0;
    var indeksGaris = 0x0;
    for (indeksKarakter = 0x0; indeksKarakter < ukuranTulisan; indeksKarakter++) {
      for (indeksGaris = 0x0; indeksGaris < tebalGaris; indeksGaris++) {
        if (indeksGaris == 0x0) {
          if (indeksKarakter == 0x0) {
            xKoor = posisiKananAtas * tileW;
            yKoor = posisiKiriBawah * tileW;
          } else if (indeksKarakter > 0x0 && indeksKarakter < ukuranTulisan - 0x1) {
            xKoor = posisiKananAtas * tileW + tileW;
            yKoor = posisiKiriBawah * tileW;
          } else {
            xKoor = posisiKananAtas * tileW + tileW + tileW;
            yKoor = posisiKiriBawah * tileW;
          }
        } else if (indeksGaris > 0x0 && indeksGaris < tebalGaris - 0x1) {
          if (indeksKarakter == 0x0) {
            xKoor = posisiKananAtas * tileW;
            yKoor = (posisiKiriBawah + 0x1) * tileW;
          } else if (indeksKarakter > 0x0 && indeksKarakter < ukuranTulisan - 0x1) {
            xKoor = posisiKananAtas * tileW + tileW;
            yKoor = (posisiKiriBawah + 0x1) * tileW;
          } else {
            xKoor = posisiKananAtas * tileW + tileW + tileW;
            yKoor = (posisiKiriBawah + 0x1) * tileW;
          }
        } else {
          if (indeksKarakter == 0x0) {
            xKoor = posisiKananAtas * tileW;
            yKoor = (posisiKiriBawah + 0x2) * tileW;
          } else if (indeksKarakter > 0x0 && indeksKarakter < ukuranTulisan - 0x1) {
            xKoor = posisiKananAtas * tileW + tileW;
            yKoor = (posisiKiriBawah + 0x2) * tileW;
          } else {
            xKoor = posisiKananAtas * tileW + tileW + tileW;
            yKoor = (posisiKiriBawah + 0x2) * tileW;
          }
        }
        konten["drawImage"](
          dataGambar[functionGenerator("0x45")],
          xKoor,
          yKoor,
          tileW,
          tileW,
          warnaGaris + indeksKarakter * tileW * skala,
          warnaTulisan + indeksGaris * tileW * skala,
          tileW * skala,
          tileW * skala
        );
      }
    }
  }
  if (posisiX == functionGenerator("0x84")) {
    if (posisiY == 0x1) {
      posisiKananAtas = 0xc0;
      posisiKiriBawah = 0x60;
    }
    if (posisiY == 0x2) {
      posisiKananAtas = 0xc0;
      posisiKiriBawah = 0x80;
    }
    if (posisiY == 0x3) {
      posisiKananAtas = 0xc0;
      posisiKiriBawah = 0xa0;
    }
    if (posisiY == 0x4) {
      posisiKananAtas = 0x0;
      posisiKiriBawah = 0xc0;
    }
    if (posisiY == 0x5) {
      posisiKananAtas = 0x0;
      posisiKiriBawah = 0xe0;
    }
    if (posisiY == 0x6) {
      posisiKananAtas = 0x60;
      posisiKiriBawah = 0xe0;
    }
    if (posisiY == 0x7) {
      posisiKananAtas = 0xc0;
      posisiKiriBawah = 0xe0;
    }
    for (indeksKarakter = 0x0; indeksKarakter < ukuranTulisan; indeksKarakter++) {
      if (indeksKarakter == 0x0) {
        xKoor = posisiKananAtas;
        yKoor = posisiKiriBawah;
      } else if (indeksKarakter > 0x0 && indeksKarakter < ukuranTulisan - 0x1) {
        xKoor = posisiKananAtas + tileW;
        yKoor = posisiKiriBawah;
      } else {
        xKoor = posisiKananAtas + tileW + tileW;
        yKoor = posisiKiriBawah;
      }
      konten[functionGenerator("0x33")](
        dataGambar[functionGenerator("0x45")],
        xKoor,
        yKoor,
        tileW,
        tileW,
        warnaGaris + indeksKarakter * tileW * skala,
        warnaTulisan,
        tileW * skala,
        tileW * skala
      );
    }
  }
}
function addDialog(_0x18b74e, _0x41d3a2 = 0x0) {
  isActive = ![];
  isTalk = !![];
  dialog[functionGenerator("0x7c")] = 0x0;
  dialog[functionGenerator("0x3d")] = _0x41d3a2;
  dialog["timer"] = 0x0;
  dialog[functionGenerator("0x3b")] = 0x0;
  dialog[functionGenerator("0xb")] = _0x18b74e;
  debugLog = "talk_" + _0x18b74e[0x1];
}
function doTalk() {
  var percakapan = dialog;
  var halfDialogWidth = (canvas["width"] - (screenW - 0x4) * skala * tileW) / 0x2;
  var dialogTopPosition = canvas[functionGenerator("0x9a")] - tileW * 2.5 * skala;
  if (percakapan[functionGenerator("0x7c")] == 0x0) {
    percakapan["ava"] =
      percakapan[functionGenerator("0xb")][percakapan[functionGenerator("0x3d")]][0x0];
    percakapan["tb"] =
      percakapan[functionGenerator("0xb")][percakapan[functionGenerator("0x3d")]][0x1];
    percakapan["stat"] = 0x1;
    percakapan[functionGenerator("0x5b")] = 0x0;
  }
  if (percakapan[functionGenerator("0x7c")] == 0x1) {
    drawPanel(halfDialogWidth, dialogTopPosition, screenW - 0x4, 0x2, functionGenerator("0x8b"), 0x1);
    drawPanel(halfDialogWidth, dialogTopPosition, 0x2, 0x2, functionGenerator("0x8b"), 0x3);
    var dx = Math[functionGenerator("0x4c")](percakapan["ava"] / 0x4);
    var _0x3078eb = percakapan["ava"] - dx * 0x4;
    konten[functionGenerator("0x33")](
      dataGambar[functionGenerator("0xae")],
      _0x3078eb * 0x40,
      dx * 0x40,
      0x40,
      0x40,
      halfDialogWidth + (tileW * skala) / 0x2,
      dialogTopPosition + (tileW * skala) / 0x2,
      (0x40 * skala) / 0x2,
      (0x40 * skala) / 0x2
    );
    percakapan[functionGenerator("0x5b")]++;
    if (percakapan[functionGenerator("0x5b")] > 0x1) {
      percakapan[functionGenerator("0x5b")] = 0x1;
      percakapan[functionGenerator("0x3b")]++;
      if (percakapan["slice_id"] >= percakapan["tb"]["length"]) {
        percakapan["stat"] = 0x2;
      }
    }
    teksHTML(
      percakapan["tb"][functionGenerator("0xc")](0x0, percakapan[functionGenerator("0x3b")]),
      halfDialogWidth + tileW * skala * 0x2,
      dialogTopPosition + 0x5 * skala,
      tileW * skala * (screenW - 0x6),
      functionGenerator("0x6a"),
      "white"
    );
  }
  if (percakapan["stat"] == 0x2) {
    drawPanel(halfDialogWidth, dialogTopPosition, screenW - 0x4, 0x2, "3x3", 0x1);
    drawPanel(halfDialogWidth, dialogTopPosition, 0x2, 0x2, functionGenerator("0x8b"), 0x3);
    var dx = Math[functionGenerator("0x4c")](percakapan["ava"] / 0x4);
    var _0x3078eb = percakapan["ava"] - dx * 0x4;
    konten[functionGenerator("0x33")](
      dataGambar[functionGenerator("0xae")],
      _0x3078eb * 0x40,
      dx * 0x40,
      0x40,
      0x40,
      halfDialogWidth + (tileW * skala) / 0x2,
      dialogTopPosition + (tileW * skala) / 0x2,
      (0x40 * skala) / 0x2,
      (0x40 * skala) / 0x2
    );
    teksHTML(
      percakapan["tb"][functionGenerator("0xc")](0x0, percakapan[functionGenerator("0x3b")]),
      halfDialogWidth + tileW * skala * 0x2,
      dialogTopPosition + 0x5 * skala,
      tileW * skala * (screenW - 0x6),
      "20pt-Calibri-left-1.6",
      functionGenerator("0xbb")
    );
    if (key_space || key_right) {
      percakapan[functionGenerator("0x7c")] = 0x3;
      if (
        percakapan[functionGenerator("0xb")][percakapan[functionGenerator("0x3d")]][0x2] ==
        functionGenerator("0xa9")
      ) {
        percakapan["talk_id"]++;
        percakapan[functionGenerator("0x7c")] = 0x0;
        percakapan[functionGenerator("0x5b")] = 0x0;
        percakapan[functionGenerator("0x3b")] = 0x0;
      } else if (
        percakapan[functionGenerator("0xb")][percakapan[functionGenerator("0x3d")]][0x2] ==
        functionGenerator("0x23")
      ) {
        isActive = !![];
        isTalk = ![];
        just_talk = 0x1e;
      } else if (
        percakapan["arr"][percakapan["talk_id"]][0x2] == functionGenerator("0x12")
      ) {
        addWipe(functionGenerator("0x12"));
      } else if (
        percakapan[functionGenerator("0xb")][percakapan["talk_id"]][0x2] == functionGenerator("0x3c")
      ) {
        just_talk = 0x1e;
        selectID = 0x0;
        isBuying = !![];
        itemToBuy =
          this[
            functionGenerator("0xb7") +
              percakapan[functionGenerator("0xb")][percakapan[functionGenerator("0x3d")]][0x3]
          ];
      } else if (
        percakapan[functionGenerator("0xb")][percakapan[functionGenerator("0x3d")]][0x2] ==
        functionGenerator("0x27")
      ) {
        pc_exp += percakapan[functionGenerator("0xb")][percakapan["talk_id"]][0x3];
        if (pc_exp > pc_exp_level[pc_lvl]) {
          pc_lvl++;
          level_up();
        }
        just_talk = 0x1e;
        isActive = !![];
        isTalk = ![];
      } else if (
        percakapan[functionGenerator("0xb")][percakapan[functionGenerator("0x3d")]][0x2] ==
        functionGenerator("0xc1")
      ) {
        if (percakapan["arr"][percakapan["talk_id"]][0x3] == 0x0) {
          pc_item[0x0] +=
            percakapan[functionGenerator("0xb")][percakapan[functionGenerator("0x3d")]][0x4];
          dataSuara[functionGenerator("0x77")][functionGenerator("0x67")]();
        } else if (
          percakapan[functionGenerator("0xb")][percakapan[functionGenerator("0x3d")]][0x3] > 0x0
        ) {
          pc_item[functionGenerator("0x24")](
            percakapan["arr"][percakapan[functionGenerator("0x3d")]][0x3]
          );
          dataSuara[functionGenerator("0x9c")][functionGenerator("0x67")]();
        }
        isActive = !![];
        isTalk = ![];
        just_talk = 0x1e;
      } else if (
        percakapan[functionGenerator("0xb")][percakapan[functionGenerator("0x3d")]][0x2] ==
        functionGenerator("0x10")
      ) {
        gameOver();
      }
    }
  }
}
function doBuy() {
  var itemList = itemToBuy;
  var leftEdge =
    (canvas[functionGenerator("0xc0")] - (screenW - 0x6) * skala * tileW) / 0x2;
  var topEdge = canvas[functionGenerator("0x9a")] - tileW * 5.5 * skala;
  drawPanel(leftEdge, topEdge, screenW - 0x6, 0x5, functionGenerator("0x8b"), 0x1);
  var columnCount = Math["floor"]((screenW - 0x6) / 0x2);
  drawPanel(
    leftEdge + columnCount * tileW * skala,
    topEdge,
    columnCount,
    0x5,
    functionGenerator("0x8b"),
    0x3
  );
  var itemIndex = -0x1;
  for (var rowIndex = 0x0; rowIndex < 0x4; rowIndex++) {
    for (var colIndex = 0x0; colIndex < columnCount - 0x1; colIndex++) {
      itemIndex++;
      if (itemIndex < itemList[functionGenerator("0x1a")]) {
        if (itemIndex == selectID) {
          konten[functionGenerator("0x33")](
            dataGambar[functionGenerator("0x45")],
            0x80,
            0xc0,
            0x20,
            0x20,
            leftEdge + colIndex * (tileW + 0x3) * skala + tileW / 0x2,
            topEdge + rowIndex * (tileW + 0x3) * skala + tileW / 0x2,
            0x20 * skala,
            0x20 * skala
          );
        } else {
          konten[functionGenerator("0x33")](
            dataGambar[functionGenerator("0x45")],
            0x60,
            0xc0,
            0x20,
            0x20,
            leftEdge + colIndex * (tileW + 0x3) * skala + tileW / 0x2,
            topEdge + rowIndex * (tileW + 0x3) * skala + tileW / 0x2,
            0x20 * skala,
            0x20 * skala
          );
        }
        konten["drawImage"](
          dataGambar["itemIcon"],
          itemList[itemIndex][0x0] * tileW,
          itemList[itemIndex][0x1] * tileW,
          0x20,
          0x20,
          leftEdge + colIndex * (tileW + 0x3) * skala + tileW / 0x2,
          topEdge + rowIndex * (tileW + 0x3) * skala + tileW / 0x2,
          0x20 * skala,
          0x20 * skala
        );
      }
    }
  }
  var buyPanelLeftEdge = leftEdge + (columnCount + 0.8) * tileW * skala;
  var buyPanelTopEdge = topEdge + tileW * skala;
  teks(
    itemList[selectID][0x2],
    buyPanelLeftEdge,
    buyPanelTopEdge,
    functionGenerator("0xb4"),
    functionGenerator("0x8e"),
    "left"
  );
  if (selectID < itemList["length"] - 0x1) {
    konten["drawImage"](
      dataGambar[functionGenerator("0x45")],
      0x0,
      0x101,
      0x20,
      0x20,
      buyPanelLeftEdge,
      buyPanelTopEdge + 0xa,
      0x20,
      0x20
    );
    teks(
      itemList[selectID][0x4] + "\x20G",
      buyPanelLeftEdge + 0x28,
      buyPanelTopEdge + 0x1e,
      functionGenerator("0xf"),
      functionGenerator("0xbb"),
      functionGenerator("0xbd")
    );
    teksHTML(
      itemList[selectID][0x8],
      buyPanelLeftEdge,
      buyPanelTopEdge + 0x32,
      (columnCount - 1.5) * tileW * skala,
      functionGenerator("0x28"),
      functionGenerator("0xbb")
    );
    konten["drawImage"](
      dataGambar["GUI"],
      0x40,
      0x101,
      0x20,
      0x20,
      buyPanelLeftEdge + 0x64,
      buyPanelTopEdge + 0xa,
      0x20,
      0x20
    );
    teks(
      itemList[selectID][0x3],
      buyPanelLeftEdge + 0x8c,
      buyPanelTopEdge + 0x1e,
      functionGenerator("0xf"),
      functionGenerator("0xbb"),
      functionGenerator("0xbd")
    );
  }
  if (just_talk == 0x0) {
    if (key_right) {
      selectID++;
      if (selectID > itemList[functionGenerator("0x1a")] - 0x1) selectID = 0x0;
      just_talk = 0x6;
    }
    if (key_left) {
      selectID--;
      if (selectID < 0x0) selectID = itemList[functionGenerator("0x1a")] - 0x1;
      just_talk = 0x6;
    }
    if (key_down) {
      if (selectID + (columnCount - 0x1) < itemList[functionGenerator("0x1a")])
        selectID = selectID + (columnCount - 0x1);
      just_talk = 0x6;
    }
    if (key_up) {
      if (selectID - (columnCount - 0x1) >= 0x0)
        selectID = selectID - (columnCount - 0x1);
      just_talk = 0x6;
    }
    if (key_space) {
      just_talk = 0xa;
      if (itemList[selectID][0x5] == "close") {
        isBuying = ![];
        addDialog(this["talk_" + npcID], 0x2);
      } else {
        if (pc_lvl >= itemList[selectID][0x3]) {
          if (pc_item[0x0] >= itemList[selectID][0x4]) {
            if (itemList[selectID][0x7] > 0x0) {
              var _0x2707e0 = cek_item(itemList[selectID][0x7]);
              if (_0x2707e0) {
                isBuying = ![];
                addDialog(this["talk_" + npcID], 0x5);
              } else {
                pc_item[0x0] -= itemList[selectID][0x4];
                dataSuara[functionGenerator("0x77")]["play"]();
                var dialogueArray = [];
                dialogueArray[0x0] = [0x1, "", functionGenerator("0x23")];
                dialogueArray[0x0][0x0] = this["talk_" + npcID][0x0][0x0];
                dialogueArray[0x0][0x1] =
                  functionGenerator("0x19") +
                  itemList[selectID][0x2] +
                  "\x20(" +
                  itemList[selectID][0x5] +
                  "\x20+" +
                  itemList[selectID][0x6] +
                  ")";
                pc_item["push"](itemList[selectID][0x7]);
                isBuying = ![];
                addDialog(dialogueArray);
              }
            } else {
              pc_item[0x0] -= itemList[selectID][0x4];
              var dialogueArray2 = [];
              dialogueArray2[0x0] = [0x1, "", functionGenerator("0x23")];
              dialogueArray2[0x0][0x0] = this["talk_" + npcID][0x0][0x0];
              dialogueArray2[0x0][0x1] =
                functionGenerator("0x19") +
                itemList[selectID][0x2] +
                "\x20(" +
                itemList[selectID][0x5] +
                "\x20+" +
                itemList[selectID][0x6] +
                ")";
              if (itemList[selectID][0x5] == "HP") {
                pc_hp += itemList[selectID][0x6];
                if (pc_hp > pc_hp_max) pc_hp = pc_hp_max;
                dataSuara["correct"][functionGenerator("0x67")]();
              } else if (itemList[selectID][0x5] == functionGenerator("0x2b")) {
                pc_exp += itemList[selectID][0x6];
                dataSuara[functionGenerator("0x9c")]["play"]();
                if (pc_exp > pc_exp_level[pc_lvl]) {
                  pc_lvl++;
                  dialogueArray2[0x0][0x1] +=
                    ".\x20Anda\x20naik\x20menjadi\x20level\x20" + pc_lvl;
                  level_up();
                }
              } else if (itemList[selectID][0x5] == "sleep") {
                dialogueArray2[0x0] = [0x1, "", functionGenerator("0x12")];
                dialogueArray2[0x0][0x0] = this[functionGenerator("0xcf") + npcID][0x0][0x0];
                dialogueArray2[0x0][0x1] = functionGenerator("0xaa");
              }
              isBuying = ![];
              addDialog(dialogueArray2);
            }
          } else {
            isBuying = ![];
            addDialog(this[functionGenerator("0xcf") + npcID], 0x3);
          }
        } else {
          isBuying = ![];
          addDialog(this[functionGenerator("0xcf") + npcID], 0x4);
        }
      }
    }
  }
}
function cek_item(p) {
  var adaItem = ![];
  for (var index = 0x0; index < pc_item[functionGenerator("0x1a")]; index++) {
    if (pc_item[index] == p) adaItem = !![];
  }
  return adaItem;
}
function add_hp_bar() {
  konten[functionGenerator("0x33")](
    dataGambar[functionGenerator("0x45")],
    0x20,
    0x101,
    0x20,
    0x20,
    0x0,
    0x0,
    0x20 * skalaGUI,
    0x20 * skalaGUI
  );
  konten[functionGenerator("0x33")](
    dataGambar[functionGenerator("0x45")],
    0x60,
    0xe0,
    0x60,
    0x20,
    0x20 * skalaGUI,
    0x0,
    0x60 * skalaGUI,
    0x20 * skalaGUI
  );
  var hpPercentage = Math[functionGenerator("0x4c")]((pc_hp / pc_hp_max) * 0x56);
  if (hpPercentage < 0x1) hpPercentage = 0x1;
  konten[functionGenerator("0x33")](
    dataGambar[functionGenerator("0x45")],
    0xc5,
    0xe0,
    hpPercentage,
    0x20,
    0x25 * skalaGUI,
    0x0,
    hpPercentage * skalaGUI,
    0x20 * skalaGUI
  );
  konten["drawImage"](
    dataGambar["GUI"],
    0x40,
    0x101,
    0x20,
    0x20,
    0x8c * skalaGUI,
    0x0,
    0x20 * skalaGUI,
    0x20 * skalaGUI
  );
  teks(
    pc_lvl,
    0x8c * skalaGUI + 0x19,
    0x1c,
    functionGenerator("0x7e"),
    functionGenerator("0x60"),
    functionGenerator("0x2e")
  );
  konten[functionGenerator("0x33")](
    dataGambar[functionGenerator("0x45")],
    0x60,
    0xe0,
    0x60,
    0x20,
    0xac * skalaGUI,
    0x0,
    0x60 * skalaGUI,
    0x20 * skalaGUI
  );
  var xpBarWidth = Math[functionGenerator("0x4c")]((pc_exp / pc_exp_level[pc_lvl]) * 0x56);
  if (xpBarWidth < 0x1) xpBarWidth = 0x1;
  konten[functionGenerator("0x33")](
    dataGambar[functionGenerator("0x45")],
    0xc5,
    0xe0,
    xpBarWidth,
    0x20,
    0xb1 * skalaGUI,
    0x0,
    xpBarWidth * skalaGUI,
    0x20 * skalaGUI
  );
  teks(
    pc_exp + functionGenerator("0x29") + pc_exp_level[pc_lvl],
    0xdc * skalaGUI,
    0x1c,
    functionGenerator("0xc2"),
    functionGenerator("0xbb"),
    functionGenerator("0x2e")
  );
  konten[functionGenerator("0x33")](
    dataGambar[functionGenerator("0x45")],
    0x0,
    0x101,
    0x20,
    0x20,
    0x115 * skalaGUI,
    0x0,
    0x20 * skalaGUI,
    0x20 * skalaGUI
  );
  teks(
    pc_item[0x0] + "\x20G",
    0x136 * skalaGUI,
    0x1e,
    functionGenerator("0xb4"),
    functionGenerator("0xbb"),
    functionGenerator("0xbd")
  );
}
function addGUI() {
  add_hp_bar();
}
function collectItem() {
  if (isActive && just_talk == 0x0) {
    var isKoleksi = ![];
    var indeksItem = 0x0;
    var indeksKarakter = 0x0;
    var indeksKoleksi = 0x0;
    var posisiKarakterX = charX;
    var posisiKarakterY = charY;
    if (
      karakter[functionGenerator("0x4")] == 0x1 &&
      posisiKarakterY + 0x1 < mapActive[0x0][functionGenerator("0x1a")]
    ) {
      if (mapActive[posisiKarakterX][posisiKarakterY + 0x1][0x0] == 0x3) {
        isKoleksi = !![];
        indeksItem = mapActive[posisiKarakterX][posisiKarakterY + 0x1][0x3];
        indeksKarakter = posisiKarakterX;
        indeksKoleksi = posisiKarakterY + 0x1;
      }
    }
    if (karakter["arah"] == 0x2 && posisiKarakterX - 0x1 >= 0x0) {
      if (mapActive[posisiKarakterX - 0x1][posisiKarakterY][0x0] == 0x3) {
        isKoleksi = !![];
        indeksItem = mapActive[posisiKarakterX - 0x1][posisiKarakterY][0x3];
        indeksKarakter = posisiKarakterX - 0x1;
        indeksKoleksi = posisiKarakterY;
      }
    }
    if (
      karakter[functionGenerator("0x4")] == 0x3 &&
      posisiKarakterX + 0x1 < mapActive[functionGenerator("0x1a")]
    ) {
      if (mapActive[posisiKarakterX + 0x1][posisiKarakterY][0x0] == 0x3) {
        isKoleksi = !![];
        indeksItem = mapActive[posisiKarakterX + 0x1][posisiKarakterY][0x3];
        indeksKarakter = posisiKarakterX + 0x1;
        indeksKoleksi = posisiKarakterY;
      }
    }
    if (karakter[functionGenerator("0x4")] == 0x4 && posisiKarakterY - 0x1 >= 0x0) {
      if (mapActive[posisiKarakterX][posisiKarakterY - 0x1][0x0] == 0x3) {
        isKoleksi = !![];
        indeksItem = mapActive[posisiKarakterX][posisiKarakterY - 0x1][0x3];
        indeksKarakter = posisiKarakterX;
        indeksKoleksi = posisiKarakterY - 0x1;
      }
    }
    if (isKoleksi) {
      if (indeksItem > 0x1 && indeksItem < 0x8) {
        mapActive[indeksKarakter][indeksKoleksi][0x3] = 0x0;
        addDialog(itemDB, indeksItem);
        just_talk = 0x1e;
        dataSuara[functionGenerator("0x9c")][functionGenerator("0x67")]();
      } else {
        addDialog(itemDB, indeksItem);
        just_talk = 0x1e;
      }
    }
  }
}
function level_up() {
  dataSuara[functionGenerator("0x9c")][functionGenerator("0x67")]();
  pc_hp_max = pc_hp_level[pc_lvl];
  pc_atk = pc_atk_level[pc_lvl];
  pc_def = pc_def_level[pc_lvl];
}
function setEnemy(sen) {
  for (var i = 0x0; i <= sen; i++) {
    this[functionGenerator("0xc9") + i] = {
      img: dataGambar[functionGenerator("0x99") + i],
      shad: dataGambar[functionGenerator("0xba")],
      x: 0x0,
      y: 0x0,
      tileW: karakter[functionGenerator("0x20")],
      tileH: karakter[functionGenerator("0x97")],
      arah: 0x1,
      frame: 0x2,
      skala: skala,
    };
  }
}
function removeEnemy() {
  var jumlahMusuhDihapus = 0x0;
  var musuhDiArena = this[functionGenerator("0x5c") + battleArena];
  if (enemyDB[functionGenerator("0x1a")] > 0x0) {
    for (var indeksMusuh = 0x0; indeksMusuh < musuhDiArena["length"]; indeksMusuh++) {
      for (
        var indeksMusuhDiArena = 0x0;
        indeksMusuhDiArena < musuhDiArena[0x0][functionGenerator("0x1a")];
        indeksMusuhDiArena++
      ) {
        if (musuhDiArena[indeksMusuh][indeksMusuhDiArena][0x0] == 0x9) {
          musuhDiArena[indeksMusuh][indeksMusuhDiArena][0x0] = 0x0;
          jumlahMusuhDihapus++;
        }
      }
    }
    for (
      var indeksMusuh = 0x0;
      indeksMusuh < enemyDB[functionGenerator("0x1a")];
      indeksMusuh++
    ) {
      enemyDB[indeksMusuh] == null;
    }
    enemyDB = [];
    trace(functionGenerator("0x4f") + jumlahMusuhDihapus);
  }
}
function setupEnemy() {
  trace("------->>--------");
  for (var indeksKarakter = 0x0; indeksKarakter < pc_lvl + 0x1; indeksKarakter++) {
    var levelMusuh = Math[functionGenerator("0x4c")](
      Math[functionGenerator("0xb8")]() * (pc_lvl + 0x1)
    );
    if (levelMusuh > enemy[functionGenerator("0x1a")] - 0x1)
      levelMusuh = enemy["length"] - 0x1;
    var posisiMusuhX = Math[functionGenerator("0x4c")](
      Math[functionGenerator("0xb8")]() * (mapActive[functionGenerator("0x1a")] - 0x2)
    );
    var posisiMusuhY = Math[functionGenerator("0x4c")](
      Math[functionGenerator("0xb8")]() * (mapActive[0x0][functionGenerator("0x1a")] - 0x2)
    );
    trace(posisiMusuhX + "\x20" + posisiMusuhY);
    trace(functionGenerator("0xb1") + mapActive[posisiMusuhX][posisiMusuhY]);
    while (
      mapActive[posisiMusuhX][posisiMusuhY][0x0] > 0x0 ||
      posisiMusuhX < 0x2 ||
      posisiMusuhY < 0x2
    ) {
      posisiMusuhX = Math[functionGenerator("0x4c")](
        Math["random"]() * (mapActive["length"] - 0x2)
      );
      posisiMusuhY = Math[functionGenerator("0x4c")](
        Math["random"]() * (mapActive[0x0][functionGenerator("0x1a")] - 0x2)
      );
    }
    trace(
      functionGenerator("0x68") + posisiMusuhX + "\x20" + posisiMusuhY + "\x20" + levelMusuh
    );
    var musuh = {};
    musuh[functionGenerator("0x95")] = dataGambar[functionGenerator("0x99") + levelMusuh];
    musuh[functionGenerator("0xc4")] = dataGambar["bayangan"];
    musuh[functionGenerator("0x91")] = posisiMusuhX;
    musuh["charY"] = posisiMusuhY;
    musuh[functionGenerator("0x1c")] = 0x10;
    musuh[functionGenerator("0x2f")] = 0x10;
    musuh[functionGenerator("0xb")] = enemy[levelMusuh];
    musuh["id"] = indeksKarakter;
    musuh["stat"] = 0x0;
    musuh[functionGenerator("0x70")] = 0x2;
    musuh[functionGenerator("0x7b")] = 0x0;
    musuh[functionGenerator("0x62")] = 0x4;
    musuh[functionGenerator("0x20")] = 0x20;
    musuh[functionGenerator("0x97")] = 0x20;
    musuh[functionGenerator("0x41")] = skala;
    musuh[functionGenerator("0x4")] = 0x2;
    musuh[functionGenerator("0xac")] = 0x2;
    this[functionGenerator("0xc9") + indeksKarakter] = musuh;
    enemyDB["push"](musuh);
    mapActive[posisiMusuhX][posisiMusuhY][0x0] = 0x9;
    mapActive[posisiMusuhX][posisiMusuhY][0x3] = indeksKarakter;
    trace(functionGenerator("0xcc") + mapActive[posisiMusuhX][posisiMusuhY]);
  }
}
function rand(_0x11b32c) {
  return Math[functionGenerator("0x4c")](Math[functionGenerator("0xb8")]() * _0x11b32c);
}
function dist(xKoordinat1, yKoordinat1, xKoordinat2, yKoordinat2) {
  var jarak =
    (xKoordinat2 - xKoordinat1) * (xKoordinat2 - xKoordinat1) +
    (yKoordinat2 - yKoordinat1) * (yKoordinat2 - yKoordinat1);
  return jarak;
}
function moveEnemy() {
  var xKoordinatMap, yKoordinatMap, xKoordinatKarakter, yKoordinatKarakter;
  if (isActive) {
    for (
      var indexEnemy = 0x0;
      indexEnemy < enemyDB[functionGenerator("0x1a")];
      indexEnemy++
    ) {
      var enemy = enemyDB[indexEnemy];
      mapActive[enemy[functionGenerator("0x91")]][enemy["charY"]][0x0] = 0x0;
      mapActive[enemy["charX"]][enemy[functionGenerator("0xa8")]][0x3] = 0x0;
      if (enemy[functionGenerator("0x7c")] == 0x0) {
        if (rand(0xa) == 0x6) {
          enemy[functionGenerator("0x4")] = rand(0x4) + 0x1;
          enemy[functionGenerator("0x70")] = 0x2;
          enemy["move"] = 0x0;
          enemy[functionGenerator("0x7c")] = 0x1;
          enemy[functionGenerator("0x62")] = 0x4;
          debugLog = functionGenerator("0x74") + enemy["id"] + "\x20ready";
        }
        if (
          dist(enemy["x"], enemy["y"], karakter["x"], karakter["y"]) <=
            0x640 &&
          !battleScene
        ) {
          battleScene = !![];
          enemy[functionGenerator("0x7c")] = 0xa;
          isActive = ![];
          enemyID = enemy["id"];
          acak_soal();
          addWipe("battle");
        }
      }
      if (enemy[functionGenerator("0x7c")] == 0x1) {
        if (
          dist(enemy["x"], enemy["y"], karakter["x"], karakter["y"]) <=
            0x640 &&
          !battleScene
        ) {
          battleScene = !![];
          enemy[functionGenerator("0x7c")] = 0xa;
          isActive = ![];
          enemyID = enemy["id"];
          acak_soal();
          addWipe(functionGenerator("0x38"));
        }
        enemy[functionGenerator("0x7b")]++;
        if (enemy[functionGenerator("0x7b")] > 0x3) {
          enemy[functionGenerator("0x7b")] = 0x0;
          enemy["langkah"]++;
          if (enemy[functionGenerator("0x70")] > 0x3)
            enemy[functionGenerator("0x70")] = 0x0;
          enemy[functionGenerator("0xac")] =
            (enemy[functionGenerator("0x4")] - 0x1) * 0x3 +
            walkFrame[enemy[functionGenerator("0x70")]];
          if (rand(0xe) == 0xa) {
            if (
              dist(
                enemy["x"],
                enemy["y"],
                karakter["x"],
                karakter["y"]
              ) <= 0xbb8
            ) {
              enemy[functionGenerator("0x62")] = 0x6;
              if (enemy[functionGenerator("0x91")] < charX) {
                enemy["arah"] = 0x3;
              } else if (enemy[functionGenerator("0x91")] > charX) {
                enemy[functionGenerator("0x4")] = 0x2;
              } else if (enemy[functionGenerator("0xa8")] < charY) {
                enemy["arah"] = 0x1;
              } else if (enemy[functionGenerator("0xa8")] > charY) {
                enemy[functionGenerator("0x4")] = 0x4;
              }
            }
          }
          if (enemy[functionGenerator("0x4")] == 0x1) {
            yKoordinatMap = enemy[functionGenerator("0x2f")] + enemy[functionGenerator("0x62")];
            yKoordinatKarakter = enemy[functionGenerator("0xa8")];
            if (yKoordinatMap > tileW) yKoordinatKarakter++;
            if (yKoordinatKarakter < mapActive[0x0][functionGenerator("0x1a")]) {
              if (mapActive[enemy["charX"]][yKoordinatKarakter][0x0] == 0x0) {
                enemy[functionGenerator("0x2f")] += enemy[functionGenerator("0x62")];
                if (enemy[functionGenerator("0x2f")] > tileW) {
                  enemy[functionGenerator("0x2f")] -= tileW;
                  enemy[functionGenerator("0xa8")]++;
                }
              }
            }
            if (yKoordinatKarakter < mapActive[0x0]["length"] - 0x1) {
              if (
                mapActive[enemy[functionGenerator("0x91")]][
                  enemy["charY"] + 0x1
                ][0x0] > 0x0
              ) {
                if (rand(0xa) > 0x5) {
                  enemy[functionGenerator("0x4")] = 0x2;
                } else {
                  enemy["arah"] = 0x3;
                }
              }
            } else {
              enemy[functionGenerator("0x4")] = 0x4;
            }
          } else if (enemy[functionGenerator("0x4")] == 0x2) {
            xKoordinatMap =
              enemy[functionGenerator("0x1c")] - enemy[functionGenerator("0x62")] * 0x2;
            xKoordinatKarakter = enemy["charX"];
            if (xKoordinatMap < 0x0) {
              xKoordinatKarakter = enemy[functionGenerator("0x91")] - 0x1;
            }
            if (xKoordinatKarakter >= 0x0) {
              if (
                mapActive[xKoordinatKarakter][enemy[functionGenerator("0xa8")]][0x0] == 0x0
              ) {
                enemy[functionGenerator("0x1c")] -= enemy[functionGenerator("0x62")];
                if (enemy["posX"] < 0x0) {
                  enemy["posX"] += tileW;
                  enemy["charX"]--;
                }
              }
            }
            if (xKoordinatKarakter > 0x0) {
              if (
                mapActive[xKoordinatKarakter - 0x1][enemy[functionGenerator("0xa8")]][0x0] >
                0x0
              ) {
                if (rand(0xa) > 0x5) {
                  enemy[functionGenerator("0x4")] = 0x1;
                } else {
                  enemy[functionGenerator("0x4")] = 0x4;
                }
              }
            } else {
              enemy[functionGenerator("0x4")] = 0x3;
            }
          } else if (enemy[functionGenerator("0x4")] == 0x3) {
            xKoordinatMap =
              enemy[functionGenerator("0x1c")] + enemy[functionGenerator("0x62")] * 0x2;
            xKoordinatKarakter = enemy[functionGenerator("0x91")];
            if (xKoordinatMap > tileW) {
              xKoordinatKarakter = enemy[functionGenerator("0x91")] + 0x1;
            }
            if (xKoordinatKarakter < mapActive["length"]) {
              if (
                mapActive[xKoordinatKarakter][enemy[functionGenerator("0xa8")]][0x0] == 0x0
              ) {
                enemy[functionGenerator("0x1c")] += enemy["speed"];
                if (enemy[functionGenerator("0x1c")] > tileW) {
                  enemy["posX"] -= tileW;
                  enemy[functionGenerator("0x91")]++;
                }
              }
            }
            if (xKoordinatKarakter < mapActive[functionGenerator("0x1a")] - 0x1) {
              if (
                mapActive[xKoordinatKarakter + 0x1][enemy[functionGenerator("0xa8")]][0x0] >
                0x0
              ) {
                if (rand(0xa) > 0x5) {
                  enemy[functionGenerator("0x4")] = 0x1;
                } else {
                  enemy[functionGenerator("0x4")] = 0x4;
                }
              }
            } else {
              enemy[functionGenerator("0x4")] = 0x2;
            }
          } else if (enemy[functionGenerator("0x4")] == 0x4) {
            yKoordinatMap = enemy[functionGenerator("0x2f")] - enemy["speed"];
            yKoordinatKarakter = enemy["charY"];
            if (yKoordinatMap < 0x0) yKoordinatKarakter--;
            if (yKoordinatKarakter > 0x0) {
              if (mapActive[enemy["charX"]][yKoordinatKarakter][0x0] == 0x0) {
                enemy["posY"] -= enemy[functionGenerator("0x62")];
                if (enemy[functionGenerator("0x2f")] < 0x0) {
                  enemy[functionGenerator("0x2f")] += tileW;
                  enemy[functionGenerator("0xa8")]--;
                }
              }
            }
            if (yKoordinatKarakter > 0x0) {
              if (
                mapActive[enemy[functionGenerator("0x91")]][yKoordinatKarakter - 0x1][0x0] >
                0x0
              ) {
                if (rand(0xa) > 0x5) {
                  enemy[functionGenerator("0x4")] = 0x2;
                } else {
                  enemy["arah"] = 0x3;
                }
              }
            } else {
              enemy["arah"] = 0x1;
            }
          }
        }
        if (rand(0x96) == 0x22) enemy[functionGenerator("0x7c")] = 0x0;
      }
      mapActive[enemy[functionGenerator("0x91")]][
        enemy[functionGenerator("0xa8")]
      ][0x0] = 0x9;
      mapActive[enemy["charX"]][enemy[functionGenerator("0xa8")]][0x3] =
        enemy["id"];
    }
  }
}
function acak_soal() {
  temp_soal = soal[functionGenerator("0xa3")](0x0, soal[functionGenerator("0x1a")]);
  for (var indeks = 0x0; indeks < soal["length"]; indeks++) {
    var indeksAcak = Math[functionGenerator("0x4c")](
      Math[functionGenerator("0xb8")]() * soal["length"]
    );
    var soalBaru = temp_soal[indeksAcak];
    temp_soal[indeksAcak] = temp_soal[indeks];
    temp_soal[indeks] = soalBaru;
  }
}
function cek_item(p) {
  var adaItem = ![];
  for (var index = 0x0; index < pc_item[functionGenerator("0x1a")]; index++) {
    if (pc_item[index] == p) adaItem = !![];
  }
  return adaItem;
}
function buat_soal() {
  no_soal = rand(soal[functionGenerator("0x1a")]);
  answer_time = 0x1f4;
  selectID = 0x0;
  temp_jawaban = temp_soal[no_soal][functionGenerator("0xa3")](0x1, 0x5);
  for (
    var indeks = 0x0;
    indeks < temp_jawaban[functionGenerator("0x1a")];
    indeks++
  ) {
    var indeksAcak = Math[functionGenerator("0x4c")](
      Math[functionGenerator("0xb8")]() * temp_jawaban[functionGenerator("0x1a")]
    );
    var jawaban = temp_jawaban[indeksAcak];
    temp_jawaban[indeksAcak] = temp_jawaban[indeks];
    temp_jawaban[indeks] = jawaban;
  }
  for (
    var indeks = 0x0;
    indeks < temp_jawaban[functionGenerator("0x1a")];
    indeks++
  ) {
    if (temp_jawaban[indeks] == temp_soal[no_soal][0x1])
      jawaban_benar = indeks;
  }
}
function prepare_battle() {
  p_attack = pc_atk;
  if (cek_item(0x3)) {
    p_attack += item_2[0x2][0x6];
  } else if (cek_item(0x2)) {
    p_attack += item_2[0x1][0x6];
  } else if (cek_item(0x1)) {
    p_attack += item_2[0x0][0x6];
  }
  p_defend = pc_def;
  if (cek_item(0x6)) {
    p_defend += item_2[0x5][0x6];
  } else if (cek_item(0x5)) {
    p_defend += item_2[0x4][0x6];
  } else if (cek_item(0x4)) {
    p_defend += item_2[0x3][0x6];
  }
  trace(functionGenerator("0x1b") + p_attack + "\x20,\x20def\x20=" + p_defend);
}
function setupBattle() {
  var lebarKanvas = Math[functionGenerator("0x4c")](canvas[functionGenerator("0xc0")] / 0x40);
  var tinggiKanvas = canvas["height"] - 0x5 * tileW * skala;
  var lebarKanvas = canvas["width"] / 0x2;
  var tinggiLayar = tinggiKanvas - 0x32;
  var lebarKotak =
    (canvas["width"] / dataGambar[functionGenerator("0x82")][functionGenerator("0xc0")]) *
    dataGambar[functionGenerator("0x82")][functionGenerator("0x9a")];
  konten[functionGenerator("0x33")](
    dataGambar[functionGenerator("0x82")],
    0x0,
    0x0,
    dataGambar[functionGenerator("0x82")]["width"],
    dataGambar[functionGenerator("0x82")][functionGenerator("0x9a")],
    0x0,
    0x0,
    canvas[functionGenerator("0xc0")],
    lebarKotak
  );
  drawPanel(0x0, tinggiKanvas, lebarKanvas, 0x5, functionGenerator("0x8b"), 0x1);
  var pt = enemyDB[enemyID][functionGenerator("0xb")];
  debugLog = functionGenerator("0x25") + battleStat;
  if (battleStat == 0x1) {
    karakter["x"] = lebarKanvas - 0xc8;
    karakter["y"] = tinggiLayar;
    karakter[functionGenerator("0x41")] = 0x3;
    e_hp = pt[0x3];
    e_hp_max = pt[0x3];
    enemyDB[enemyID]["x"] = lebarKanvas + 0xc8;
    enemyDB[enemyID]["y"] = tinggiLayar;
    enemyDB[enemyID]["skala"] = 0x3;
    battleChar = {
      x: karakter["x"],
      y: karakter["y"],
      stat: 0x0,
      vx: 0x0,
      vy: 0x0,
      xa: karakter["x"],
      ya: karakter["y"],
    };
    battleEnemy = {
      x: enemyDB[enemyID]["x"],
      y: enemyDB[enemyID]["y"],
      stat: 0x0,
      vx: 0x0,
      vy: 0x0,
      xa: enemyDB[enemyID]["x"],
      ya: enemyDB[enemyID]["y"],
    };
    buat_soal();
    battleStat = 0x2;
    trace(functionGenerator("0x7"));
  }
  if (battleStat == 0x2) {
    if (just_talk == 0x0) {
      if (key_up) {
        just_talk = 0x6;
        selectID -= 0x2;
        if (selectID < 0x0) selectID += 0x4;
      } else if (key_down) {
        just_talk = 0x6;
        selectID += 0x2;
        if (selectID > 0x3) selectID -= 0x4;
      } else if (key_left) {
        just_talk = 0x6;
        selectID--;
        if (selectID < 0x0) selectID = 0x3;
      } else if (key_right) {
        just_talk = 0x6;
        selectID++;
        if (selectID > 0x3) selectID = 0x0;
      } else if (key_space) {
        if (selectID == jawaban_benar) {
          dataSuara[functionGenerator("0x9c")][functionGenerator("0x67")]();
          battleResult = 0x1;
          battleStat = 0x3;
        } else {
          dataSuara[functionGenerator("0x1e")][functionGenerator("0x67")]();
          battleResult = 0x0;
          battleStat = 0x3;
        }
      }
    }
    answer_time -= pt[0x7];
    if (answer_time <= 0x0) {
      answer_time = 0x1;
      battleStat = 0x3;
      battleResult = 0x0;
      selectID = jawaban_benar;
      globalStat = 0x1;
      globalCount = 0x0;
    }
  }
  if (battleStat == 0x3) {
    answer_time = 0x1;
    globalTimer++;
    if (globalTimer > 0x5) {
      globalTimer = 0x0;
      if (globalStat == 0x1) {
        globalStat = 0x0;
        selectID = 0x5;
      } else {
        globalStat = 0x1;
        selectID = jawaban_benar;
      }
      globalCount++;
      if (globalCount > 0xa) {
        if (battleResult == 0x0) {
          battleStat = 0x4;
        } else {
          battleStat = 0x5;
        }
        globalCount = 0x0;
        globalTimer = 0x0;
        selectID = 0x5;
      }
    }
  }
  if (battleStat == 0x4) {
    battleEnemy[functionGenerator("0x7c")] = 0x1;
    battleStat = 0x6;
  }
  if (battleStat == 0x5) {
    battleChar[functionGenerator("0x7c")] = 0x1;
    battleStat = 0x6;
  }
  if (battleStat == 0x6) {
    var objekEnemy = battleEnemy;
    var objekChar = battleChar;
    if (objekEnemy["stat"] == 0x1) {
      objekEnemy["vx"] -= 0x3;
      objekEnemy["x"] += objekEnemy["vx"];
      if (objekEnemy["x"] < objekChar["x"] + 0x32) {
        objekEnemy["vx"] = 0x5;
        objekEnemy["vy"] = -0xc;
        objekEnemy[functionGenerator("0x7c")] = 0x2;
        objekChar[functionGenerator("0x7c")] = 0x2;
        objekChar["vx"] = -0x3;
        objekChar["vy"] = -0x5;
        battleFlash = 0x3;
        var qx = pt[0x4] - p_defend;
        if (qx < 0x1) qx = 0x1;
        pc_hp -= qx;
        trace(functionGenerator("0xa0") + qx);
        dataSuara[functionGenerator("0x1f")][functionGenerator("0x67")]();
        if (pc_hp <= 0x0) {
          if (cek_item(0x7)) {
            pc_hp += 0xa;
            if (pc_hp > pc_hp_max) pc_hp = pc_hp_max;
            var _0x13d35b = 0x0;
            for (
              var dexPanel = 0x0;
              dexPanel < pc_item[functionGenerator("0x1a")];
              dexPanel++
            ) {
              if (pc_item[dexPanel] == 0x7) _0x13d35b = dexPanel;
            }
            if (_0x13d35b > 0x0) pc_item[functionGenerator("0xca")](_0x13d35b, 0x1);
            trace(functionGenerator("0x9e"));
            dataSuara[functionGenerator("0x9c")]["play"]();
          } else {
            trace(functionGenerator("0x5e"));
            objekChar["vx"] = 0x3;
            objekChar[functionGenerator("0x7c")] = 0x4;
          }
        }
      }
    }
    if (objekEnemy[functionGenerator("0x7c")] == 0x2) {
      objekEnemy["x"] += objekEnemy["vx"];
      objekEnemy["y"] += objekEnemy["vy"];
      objekEnemy["vy"]++;
      if (objekEnemy["y"] > objekEnemy["ya"]) {
        objekEnemy["vy"] *= -0.35;
        objekEnemy["vx"] *= 0.75;
        objekEnemy["y"] = objekEnemy["ya"];
        if (Math[functionGenerator("0x6e")](objekEnemy["vy"]) < 0x2) {
          objekEnemy["y"] = objekEnemy["ya"];
          objekEnemy[functionGenerator("0x7c")] = 0x3;
        }
      }
    }
    if (objekEnemy[functionGenerator("0x7c")] == 0x3) {
      var x_obj = objekEnemy["x"] - objekEnemy["xa"];
      objekEnemy["x"] -= x_obj / 0x6;
      if (Math[functionGenerator("0x6e")](x_obj) < 0x2) {
        objekEnemy[functionGenerator("0x7c")] = 0x0;
        if (pc_hp > 0x0) {
          buat_soal();
          battleStat = 0x2;
        }
      }
    }
    if (objekEnemy[functionGenerator("0x7c")] == 0x4) {
      trace(functionGenerator("0x96"));
      pc_exp += pt[0x9];
      var jk = "";
      if (pc_exp > pc_exp_level[pc_lvl]) {
        pc_lvl++;
        level_up();
        jk = functionGenerator("0x64") + pc_lvl;
      }
      var jumlahUangBaru = pt[0x8] + rand(pc_lvl);
      pc_item[0x0] += jumlahUangBaru;
      display_text =
        "Kamu\x20berhasil\x20mengalahkan\x20<b>" +
        pt[0x2] +
        functionGenerator("0x43") +
        pt[0x9] +
        "\x20dan\x20uang\x20" +
        jumlahUangBaru +
        "\x20G" +
        jk;
      objekEnemy[functionGenerator("0x7c")] = 0x5;
      textWarning(
        functionGenerator("0x59"),
        lebarKanvas,
        canvas[functionGenerator("0x9a")] - 0x64,
        "bold\x2015pt\x20Calibri",
        "white"
      );
      trace(display_text);
    }
    if (objekEnemy[functionGenerator("0x7c")] == 0x5) {
      if (objekEnemy["x"] < canvas[functionGenerator("0xc0")] + 0xc8) {
        objekEnemy["x"] += objekEnemy["vx"];
        objekEnemy["vx"]++;
      } else {
        battleStat = 0x7;
      }
    }
    if (objekChar[functionGenerator("0x7c")] == 0x1) {
      objekChar["vx"] += 0x3;
      objekChar["x"] += objekChar["vx"];
      if (objekChar["x"] > objekEnemy["x"] - 0x32) {
        objekChar["vx"] = -0x5;
        objekChar["vy"] = -0xc;
        objekChar[functionGenerator("0x7c")] = 0x2;
        objekEnemy[functionGenerator("0x7c")] = 0x2;
        objekEnemy["vx"] = 0x6;
        objekEnemy["vy"] = -0x8;
        battleFlash = 0x3;
        var qx = p_attack - pt[0x5];
        if (qx < 0x1) qx = 0x1;
        trace("dmg\x20=\x20" + qx);
        e_hp -= qx;
        dataSuara[functionGenerator("0x1f")]["play"]();
        if (e_hp <= 0x0) {
          trace(functionGenerator("0xa7"));
          objekEnemy[functionGenerator("0x7c")] = 0x4;
          dataSuara[functionGenerator("0x94")][functionGenerator("0xa5")]();
          dataSuara[functionGenerator("0x21")]["play"]();
        }
      }
    }
    if (objekChar[functionGenerator("0x7c")] == 0x2) {
      objekChar["x"] += objekChar["vx"];
      objekChar["y"] += objekChar["vy"];
      objekChar["vy"]++;
      if (objekChar["y"] > objekChar["ya"]) {
        objekChar["vy"] *= -0.35;
        objekChar["vx"] *= 0.75;
        objekChar["y"] = objekEnemy["ya"];
        if (Math[functionGenerator("0x6e")](objekChar["vy"]) < 0x2) {
          objekChar["y"] = objekChar["ya"];
          objekChar[functionGenerator("0x7c")] = 0x3;
        }
      }
    }
    if (objekChar[functionGenerator("0x7c")] == 0x3) {
      var x_obj = objekChar["x"] - objekChar["xa"];
      objekChar["x"] -= x_obj / 0x6;
      if (Math[functionGenerator("0x6e")](x_obj) < 0x2) {
        objekChar[functionGenerator("0x7c")] = 0x0;
        if (e_hp <= 0x0) {
          battleResult = 0x1;
          trace(functionGenerator("0x6d"));
        } else {
          buat_soal();
          battleStat = 0x2;
        }
      }
    }
    if (objekChar[functionGenerator("0x7c")] == 0x4) {
      if (objekChar["x"] > -0xc8) {
        objekChar["x"] -= objekChar["vx"];
        objekChar["vx"]++;
      } else {
        objekChar[functionGenerator("0x7c")] = 0x5;
      }
    }
    if (objekChar["stat"] == 0x5) {
      display_text = functionGenerator("0xc7");
      var arrDialog = [];
      arrDialog[0x0] = [0x0, functionGenerator("0x53"), functionGenerator("0xa9")];
      arrDialog[0x1] = [0x0, functionGenerator("0x89"), "game_over"];
      addDialog(arrDialog);
      battleResult = 0x0;
      battleStat = 0x7;
      dataSuara[functionGenerator("0x94")][functionGenerator("0xa5")]();
      dataSuara[functionGenerator("0xd")][functionGenerator("0xa")]();
    }
    karakter["x"] = objekChar["x"];
    karakter["y"] = objekChar["y"];
    enemyDB[enemyID]["x"] = objekEnemy["x"];
    enemyDB[enemyID]["y"] = objekEnemy["y"];
  }
  if (battleStat == 0x7) {
    if (key_space && battleResult == 0x1) {
      battleStat = 0x8;
      stopWarning();
      addWipe("end_battle");
    }
  }
  if (karakter[functionGenerator("0x3f")]) {
    if (cek_item(0x4) || cek_item(0x5) || cek_item(0x6)) {
      konten["drawImage"](
        dataGambar[functionGenerator("0x63")],
        0x60,
        0x40,
        0x20,
        0x20,
        karakter["x"] - 0x10 * karakter[functionGenerator("0x41")],
        karakter["y"] - 0x20 * karakter[functionGenerator("0x41")],
        tileW * karakter[functionGenerator("0x41")],
        tileW * karakter[functionGenerator("0x41")]
      );
    }
    sprite(karakter, 0x8);
    if (cek_item(0x3)) {
      konten[functionGenerator("0x33")](
        dataGambar[functionGenerator("0x63")],
        0x60,
        0x60,
        0x20,
        0x20,
        karakter["x"] - 0x10 * karakter["skala"],
        karakter["y"] - 0x20 * karakter[functionGenerator("0x41")],
        tileW * karakter[functionGenerator("0x41")],
        tileW * karakter["skala"]
      );
    } else if (cek_item(0x2)) {
      konten[functionGenerator("0x33")](
        dataGambar[functionGenerator("0x63")],
        0x40,
        0x60,
        0x20,
        0x20,
        karakter["x"] - 0x10 * karakter[functionGenerator("0x41")],
        karakter["y"] - 0x20 * karakter[functionGenerator("0x41")],
        tileW * karakter[functionGenerator("0x41")],
        tileW * karakter[functionGenerator("0x41")]
      );
    } else if (cek_item(0x1)) {
      konten[functionGenerator("0x33")](
        dataGambar[functionGenerator("0x63")],
        0x20,
        0x60,
        0x20,
        0x20,
        karakter["x"] - 0x10 * karakter[functionGenerator("0x41")],
        karakter["y"] - 0x20 * karakter[functionGenerator("0x41")],
        tileW * karakter[functionGenerator("0x41")],
        tileW * karakter[functionGenerator("0x41")]
      );
    }
  }
  sprite(enemyDB[enemyID], 0x5);
  drawPanel(0xa, tinggiKanvas + 0x14, 0x2, 0x2, functionGenerator("0x8b"), 0x3);
  drawPanel(
    0x5 * 0x40,
    tinggiKanvas + 0x14,
    lebarKanvas - 0x5,
    0x2,
    functionGenerator("0x8b"),
    0x3
  );
  drawPanel(0x64, tinggiKanvas + 0x14, 0x4, 0x2, functionGenerator("0x8b"), 0x3);
  var jumlahKotak = pt[0x0];
  var widthBox = Math[functionGenerator("0x4c")](jumlahKotak / 0x4);
  var posisiKotakX = jumlahKotak - widthBox * 0x4;
  konten["drawImage"](
    dataGambar[functionGenerator("0xae")],
    posisiKotakX * 0x40,
    widthBox * 0x40,
    0x40,
    0x40,
    0x2a,
    tinggiKanvas + 0x35,
    0x40,
    0x40
  );
  teks(
    pt[0x2],
    0x8c,
    tinggiKanvas + 0x4b,
    functionGenerator("0x37"),
    functionGenerator("0x7f"),
    "left"
  );
  konten[functionGenerator("0x33")](
    dataGambar[functionGenerator("0x45")],
    0x20,
    0x101,
    0x20,
    0x20,
    0x82,
    tinggiKanvas + 0x50,
    0x20,
    0x20
  );
  konten[functionGenerator("0x33")](
    dataGambar[functionGenerator("0x45")],
    0x60,
    0xe0,
    0x60,
    0x20,
    0xa0,
    tinggiKanvas + 0x50,
    0x60,
    0x20
  );
  var persentaseHP = Math[functionGenerator("0x4c")]((e_hp / e_hp_max) * 0x56);
  if (persentaseHP < 0x1) persentaseHP = 0x1;
  konten[functionGenerator("0x33")](
    dataGambar[functionGenerator("0x45")],
    0xc5,
    0xe0,
    persentaseHP,
    0x20,
    0xa5,
    tinggiKanvas + 0x50,
    persentaseHP,
    0x20
  );
  if (answer_time >= 0x1) {
    var lebarKotak = (answer_time / 0x1f4) * canvas[functionGenerator("0xc0")] - 0x3c;
    if (lebarKotak > 0x1)
      kotak(0x1e, tinggiKanvas + 0x14, lebarKotak, 0x8, 0x1, "red", functionGenerator("0x3"));
  }
  if (battleStat < 0x7) {
    teksHTML(
      temp_soal[no_soal][0x0],
      0x168,
      tinggiKanvas + 0x30,
      canvas[functionGenerator("0xc0")] - 0x1a4,
      functionGenerator("0x9d"),
      functionGenerator("0xbb")
    );
    var _0x4bad0b = [
      functionGenerator("0x79"),
      functionGenerator("0xab"),
      functionGenerator("0x7d"),
      functionGenerator("0x8"),
    ];
    var indeksPanel = 0x0;
    for (var dexPanel = 0x0; dexPanel < 0x2; dexPanel++) {
      var tingkatGambar = 0x1;
      if (battleStat > 0x2) tingkatGambar = 0x3;
      if (dexPanel == selectID) tingkatGambar = 0x2;
      var lebarPanel = 0x4 * tileW * skala;
      var posPanelX =
        lebarKanvas - 0xa - lebarPanel + dexPanel * (lebarPanel + 0x14);
      drawPanel(
        posPanelX,
        tinggiKanvas + 0x8c,
        0x4,
        0x1,
        functionGenerator("0x84"),
        tingkatGambar
      );
      tingkatGambar = 0x1;
      if (battleStat > 0x2) tingkatGambar = 0x3;
      if (dexPanel == selectID - 0x2) tingkatGambar = 0x2;
      drawPanel(
        posPanelX,
        tinggiKanvas + 0xdc,
        0x4,
        0x1,
        functionGenerator("0x84"),
        tingkatGambar
      );
      teksHTML(
        _0x4bad0b[indeksPanel] + temp_jawaban[indeksPanel],
        posPanelX + 0x14,
        tinggiKanvas + 0x96,
        lebarPanel,
        functionGenerator("0x9d"),
        functionGenerator("0xbb")
      );
      teksHTML(
        _0x4bad0b[indeksPanel + 0x2] + temp_jawaban[indeksPanel + 0x2],
        posPanelX + 0x14,
        tinggiKanvas + 0xe6,
        lebarPanel,
        "20pt-Calibri-left-1.3",
        functionGenerator("0xbb")
      );
      indeksPanel++;
    }
  } else {
    debugLog = functionGenerator("0x8f") + display_text;
    teksHTML(
      display_text,
      0x168,
      tinggiKanvas + 0x30,
      canvas[functionGenerator("0xc0")] - 0x1a4,
      "20pt-Calibri-left-1.3",
      "white"
    );
  }
  if (battleFlash > 0x0) {
    battleFlash--;
    kotak(
      0x0,
      0x0,
      canvas[functionGenerator("0xc0")],
      canvas[functionGenerator("0x9a")],
      0x1,
      "white",
      functionGenerator("0xbb")
    );
  }
}
var enterFrame;
var globalImg;
var globalFunc;
function halamanJudul(gimg, gfun) {
  hapusLayar();
  globalImg = gimg;
  globalFunc = gfun;
  isActive = ![];
  enterFrame = setInterval(loopJudul, 0x21);
}
function loopJudul() {
  var gambarUtama = globalImg;
  var scaleX = canvas[functionGenerator("0x9a")] / gambarUtama[functionGenerator("0x9a")];
  var scaleY = gambarUtama[functionGenerator("0xc0")] * scaleX;
  konten[functionGenerator("0x33")](
    gambarUtama,
    0x0,
    0x0,
    gambarUtama[functionGenerator("0xc0")],
    gambarUtama[functionGenerator("0x9a")],
    (canvas[functionGenerator("0xc0")] - scaleY) / 0x2,
    0x0,
    scaleY,
    canvas[functionGenerator("0x9a")]
  );
  doBlink();
  if (just_talk > 0x0) just_talk--;
  if (key_space && just_talk == 0x0) {
    stopWarning();
    isActive = !![];
    setAwal();
    clearInterval(enterFrame);
    globalFunc();
    dataSuara[functionGenerator("0x66")]["loop"]();
  }
}
function setAwal() {
  isTalk = ![];
  isBlink = ![];
  isBattle = ![];
  isAction = ![];
  battleScene = ![];
  enemyReady = ![];
  doorId = 0x1;
  pc_hp = 0xa;
  pc_hp_max = 0xa;
  pc_exp = 0x0;
  pc_lvl = 0x1;
  pc_atk = 0x2;
  pc_def = 0x1;
  storyID = 0x0;
  pc_item = [0x32];
}
function gameOver() {
  dataSuara[functionGenerator("0xd")][functionGenerator("0xa5")]();
  removeEventListener("keydown", tombolditekan);
  removeEventListener(functionGenerator("0x6f"), tomboldilepas);
  just_talk = 0x3c;
  removeEnemy();
  setAwal();
  clearInterval(enterFrame);
  setup();
}
